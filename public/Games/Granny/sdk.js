var YaGames;(()=>{var e={124:(e,t,a)=>{"use strict";a.d(t,{U1:()=>r,cE:()=>n,wK:()=>o});var o=(e=>(e.Allwebgames="allwebgames",e.Gametok="gametok",e.Playhop="playhop",e.Yandex="yandex",e))(o||{});const n="yandex",r="%PASSPORT_PREFIX%"},899:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={sticky:{adsense:null,google:{default:{desktop:{main:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Sticky_Right_Sidebar",sizes:[[300,600],[160,600]]},small:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Sticky_Right_Sidebar_Small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Landscape_Sticky_Bottom"},landscapeRight:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Landscape_Sticky_Right_Sidebar"},portrait:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Portrait_Sticky_Bottom"},portraitHight:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Portrait_Sticky"}}},dsail:{desktop:{main:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Sticky_Right_Sidebar",sizes:[[300,600],[160,600]]},small:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Sticky_Right_Sidebar_Small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Landscape_Sticky_Bottom"},landscapeRight:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Landscape_Sticky_Right_Sidebar"},portrait:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Portrait_Sticky_Bottom"},portraitHight:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Portrait_Sticky"}}}}},feed:{google:{default:{desktop:{default:["/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250"],threeInRow:["/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_1","/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_2","/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_3"]},mobile:{default:["/21857590943,22960671442/Allwebgames.com/Mobile/Catalog_300x250"]},standalone:{default:null}},dsail:{desktop:{default:["/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250"],threeInRow:["/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_1","/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_2","/21857590943,22960671442/Allwebgames.com/Desktop/Catalog_970x250_3"]},mobile:{default:["/21857590943,22960671442/Allwebgames.com/Mobile/Catalog_300x250"]},standalone:{default:null}}}},interstitial:{adsense:{clientId:"ca-pub-8908317842209223",slotId:"6560048574"},google:{default:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Interstitial_Banner"}},instream:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Video",enabled:!0},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Video",enabled:!1}}}},startFullscreen:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Interstitial_Banner"}}}},rewarded:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Rewarded_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Rewarded_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Allwebgames.com/Desktop/Rewarded_Banner"},mobile:{blockId:"/21857590943,22960671442/Allwebgames.com/Mobile/Rewarded_Banner"}}}},splash:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}}}}}},922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={sticky:{adsense:null,google:{default:{desktop:{main:{blockId:"/21857590943,22960671442/Playhop.com/Desktop/sticky_right_sidebar",sizes:[[300,600],[160,600],[120,600]]},small:{blockId:"/21857590943,22960671442/Playhop.com/Desktop/sticky_right_sidebar_small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Landscape_Sticky_bottom"},landscapeRight:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Landscape_Sticky_right_sidebar"},portrait:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Portrait_Sticky_bottom"},portraitHight:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Portrait_Sticky"}}},dsail:{desktop:{main:{blockId:"/21857590943,22960671442/playhop.com/desktop/sticky_right_sidebar",sizes:[[300,600],[160,600]]},small:{blockId:"/21857590943,22960671442/playhop.com/desktop/sticky_right_sidebar_small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/playhop.com/mobile/landscape_sticky_bottom"},landscapeRight:{blockId:"/21857590943,22960671442/playhop.com/mobile/landscape_sticky_right_sidebar"},portrait:{blockId:"/21857590943,22960671442/playhop.com/mobile/portrait_sticky_bottom"},portraitHight:{blockId:"/21857590943,22960671442/playhop.com/mobile/portrait_sticky"}}}}},feed:{google:{default:{desktop:{default:["/21857590943,22960671442/playhop.com/desktop/catalog_970x250_1"],threeInRow:["/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_1","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_2","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_3"]},mobile:{default:["/21857590943,22960671442/PlayHop.com/Mobile/Catalog_300x250_1"]},standalone:{default:null}},dsail:{desktop:{default:["/21857590943,22960671442/playhop.com/desktop/catalog_970x250_1"],threeInRow:["/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_1","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_2","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_3"]},mobile:{default:["/21857590943,22960671442/PlayHop.com/Mobile/Catalog_300x250_1"]},standalone:{default:null}}}},interstitial:{adsense:{clientId:"ca-pub-8908317842209223",slotId:"6560048574"},google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/interstitial_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/interstitial_banner"}},instream:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/video",enabled:!0},mobile:{blockId:"/21857590943,22960671442/playhop.com/desktop/video",enabled:!1}}}},startFullscreen:{google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/interstitial_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/interstitial_banner"}}}},rewarded:{google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Rewarded_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Rewarded_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/rewarded_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/rewarded_banner"}}}},splash:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}}}}}},227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={sticky:{adsense:{desktop:{main:{clientId:"ca-pub-8908317842209223",slotId:"4120344222"},small:{clientId:"ca-pub-8908317842209223",slotId:"2133417087"}},mobile:{landscapeBottom:{clientId:"ca-pub-8908317842209223",slotId:"1809929553"},landscapeRight:{clientId:"ca-pub-8908317842209223",slotId:"7014100879"},portrait:{clientId:"ca-pub-8908317842209223",slotId:"8734430553"},portraitHight:{clientId:"ca-pub-8908317842209223",slotId:"5433425890"}}},google:{default:{desktop:{main:{blockId:"/21857590943,22960671442/Playhop.com/Desktop/sticky_right_sidebar",sizes:[[300,600],[160,600],[120,600]]},small:{blockId:"/21857590943,22960671442/Playhop.com/Desktop/sticky_right_sidebar_small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Landscape_Sticky_bottom"},landscapeRight:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Landscape_Sticky_right_sidebar"},portrait:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Portrait_Sticky_bottom"},portraitHight:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Portrait_Sticky"}}},dsail:{desktop:{main:{blockId:"/21857590943,22960671442/playhop.com/desktop/sticky_right_sidebar",sizes:[[300,600],[160,600]]},small:{blockId:"/21857590943,22960671442/playhop.com/desktop/sticky_right_sidebar_small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/playhop.com/mobile/landscape_sticky_bottom"},landscapeRight:{blockId:"/21857590943,22960671442/playhop.com/mobile/landscape_sticky_right_sidebar"},portrait:{blockId:"/21857590943,22960671442/playhop.com/mobile/portrait_sticky_bottom"},portraitHight:{blockId:"/21857590943,22960671442/playhop.com/mobile/portrait_sticky"}}}}},feed:{google:{default:{desktop:{default:["/21857590943,22960671442/playhop.com/desktop/catalog_970x250_1"],threeInRow:["/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_1","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_2","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_3"]},mobile:{default:["/21857590943,22960671442/PlayHop.com/Mobile/Catalog_300x250_1"]},standalone:{default:null}},dsail:{desktop:{default:["/21857590943,22960671442/playhop.com/desktop/catalog_970x250_1"],threeInRow:["/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_1","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_2","/21857590943,22960671442/PlayHop.com/Desktop/catalog_300x250_3"]},mobile:{default:["/21857590943,22960671442/PlayHop.com/Mobile/Catalog_300x250_1"]},standalone:{default:null}}}},interstitial:{adsense:{clientId:"ca-pub-8908317842209223",slotId:"6560048574"},google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/interstitial_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/interstitial_banner"}},instream:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/video",enabled:!0},mobile:{blockId:"/21857590943,22960671442/playhop.com/desktop/video",enabled:!1}}}},startFullscreen:{google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Interstitial_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Interstitial_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/interstitial_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/interstitial_banner"}}}},rewarded:{google:{default:{desktop:{blockId:"/21857590943,22960671442/PlayHop.com/Desktop/Rewarded_Banner"},mobile:{blockId:"/21857590943,22960671442/PlayHop.com/Mobile/Rewarded_Banner"}},dsail:{desktop:{blockId:"/21857590943,22960671442/playhop.com/desktop/rewarded_banner"},mobile:{blockId:"/21857590943,22960671442/playhop.com/mobile/rewarded_banner"}}}},splash:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}}}}}},153:()=>{},449:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const o={sticky:{adsense:null,google:{default:{desktop:{main:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Sidebar-Desktop-main",sizes:[[300,600],[160,600],[120,600]]},small:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Sidebar-Desktop-small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/FloorAd-touchL"},landscapeRight:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Sidebar-TouchL-main"},portrait:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/FloorAd-touchP"},portraitHight:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/FloorAd-touchP100"}}},dsail:{desktop:{main:{blockId:"/21857590943,22960671442/yandex.games/prebid/sidebar-desktop-main",sizes:[[300,600],[160,600]]},small:{blockId:"/21857590943,22960671442/yandex.games/prebid/sidebar-desktop-small",sizes:[[300,250]]}},mobile:{landscapeBottom:{blockId:"/21857590943,22960671442/yandex.games/prebid/floorad-touchl"},landscapeRight:{blockId:"/21857590943,22960671442/yandex.games/prebid/sidebar-touchL-main"},portrait:{blockId:"/21857590943,22960671442/yandex.games/prebid/floorad-touchp"},portraitHight:{blockId:"/21857590943,22960671442/yandex.games/prebid/floorad-touchp100"}}}}},feed:{rsya:{useAdaptiveHeight:!0,adaptiveHeightBlockId:"R-I-323671-23"},google:{default:{desktop:{default:["/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_970x250"],threeInRow:["/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-1","/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-2","/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-3"]},mobile:{default:["/21857590943,22960671442/Yandex.Games/Banners/Games_Mobile_300x250"]},standalone:{default:["/21857590943,22960671442/Games.App/Games_Mobile_Catalog_App_300x250"]}},dsail:{desktop:{default:["/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_970x250"],threeInRow:["/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-1","/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-2","/21857590943,22960671442/Yandex.Games/Banners/Games_Desktop_300x250-3"]},mobile:{default:["/21857590943,22960671442/Yandex.Games/Banners/Games_Mobile_300x250"]},standalone:{default:["/21857590943,22960671442/Games.App/Games_Mobile_Catalog_App_300x250"]}}}},interstitial:{adsense:{clientId:"ca-pub-7899932632484219",slotId:""},google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Prebid_Fakefullscreen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Prebid_Fakefullscreen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"},mobile:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"}},instream:{desktop:{blockId:"/21857590943,22960671442/yandex.games/Video/video_test",enabled:!0},mobile:{blockId:"/21857590943,22960671442/yandex.games/Video/video_test",enabled:!1}}}},startFullscreen:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Start_Interstitial"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Start_Interstitial"}},dsail:{desktop:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"},mobile:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"}}}},rewarded:{google:{default:{desktop:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"},mobile:{blockId:"/21857590943,22960671442/yandex.games/prebid/prebid_fakefullscreen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Rewarded_banner"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Rewarded_banner"}}}},splash:{google:{default:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}},dsail:{desktop:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"},mobile:{blockId:"/21857590943,22960671442/Yandex.Games/Banners/Splash_screen"}}}}}},191:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var o=a(303),n=a(813),r=a(877),i=a(124),s=a(194),l=a(899);const d={BACKEND_SDK_URL:"https://games-sdk.allwebgames.%TLD%/games/api/sdk/v1",auth:{provider:o.Ho.XSOLLA},adv:l.default,analytics:{counters:{aw:[],ga:"G-97SL2RHGD3",metrika:97350638},rumProject:"playhop"},basePath:"",cdnSuffix:{name:"allwebgames-cdn",path:"/cdn"},condition:new RegExp(/allwebgames\./,"i"),cookieName:o.OL,componentsSettings:{buttons:{playGuardApplySize:"m",playGuardApplyView:"promo",recoveryCodeView:"primary",searchSubmitView:"action"},common:{balancePopupType:"withBadge",showEuropeMonthlyCounter:!0},footer:{disableSocialNetworks:!0},loginButton:{useIcon:!1},leftPanel:{showDSA:!0}},loginInNewTab:!0,logoPath:`${o.Ni}/games-static/static-data/images/logo/allwebgames.svg`,name:i.wK.Allwebgames,sendMetrikaYandexUID:!0,tlds:["com"],layoutFoundWidth:{desktop:{"(min-width: 2441px)":12,"(max-width: 2440px) and (min-width: 1873px)":8,"(max-width: 1872px) and (min-width: 1286px)":6,"(max-width: 1285px) and (min-width: 973px)":4,"(max-width: 972px) and (min-width: 751px)":3,"(max-width: 750px)":2},mobile:{"(orientation: portrait) and (max-width: 498px)":3,"(orientation: landscape) and (max-width: 498px)":4,"(min-width: 499px) and (max-width: 570px)":4,"(min-width: 571px) and (max-width: 669px)":5,"(min-width: 670px) and (max-width: 1023px)":6,"(min-width: 1024px)":8}},helpUrl:"/support",faviconPath:`${o.Ni}/games-static/favicons/allwebgames`,payments:{xsollaEnabled:!0,moneyCodeSymbol:o.NA.CON},gameSettings:{rated:{ugcApi:!1}},themes:{theme:o.XY.ALLWEBGAMES,themeColor:o.aN.DARK,uiKit:o.Zi.ALLWEBGAMES,uiKitFeatures:r.PLAYHOP_FEATURE_CONFIG},manifest:{colors:{background:"#222",theme:"#222"}},feedbackSettings:{disableRate:!0},fontInfo:{fonts:[{family:"Druk Wide Cy",format:"woff",style:"normal",urls:{900:"/druk-wide/heavy.woff"}},{family:"Druk Wide Cy",format:"woff2",style:"normal",urls:{900:"/druk-wide/heavy.woff2"}},{family:"Roboto",format:"woff",style:"normal",urls:{400:"/roboto/regular.woff",500:"/roboto/medium.woff"}},{family:"Roboto",format:"woff2",style:"normal",urls:{400:"/roboto/regular.woff2",500:"/roboto/medium.woff2"}}],vault:s.EFontVaults.STATIC},overrideFlags:{new_game_quality_score:!0,new_game_quality_score_additional_tweaks:!0,new_left_panel:!0},languages:n.o7,mapLangsByTld:n.HU,startYear:2024,useFakeFeedback:!0,singleLogo:!0,seo:{useTankerDescription:!0},useColorizeCategoriesIcon:!1,useNewBalancePopup:!1,legalPages:{"/termsofuse":{footerOrder:1,menuOrder:2,pagePrefix:"termsofuse"},"/confidential":{footerOrder:2,menuOrder:3,pagePrefix:"confidential"},"/support":{footerOrder:3,menuOrder:1,type:"support",params:{formId:"6656f4cdd046880821015bb7",formUrl:"https://forms.yandex.com/cloud/"},pagePrefix:"technical.support"},"/dsa":{footerOrder:4,menuOrder:4,pagePrefix:"dsa",withMetadata:!0},"/license":{hideLink:!0,footerOrder:99,menuOrder:99,pagePrefix:"license"}}}},488:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var o=a(303),n=a(813),r=a(877),i=a(124),s=a(194),l=a(922);const d={BACKEND_SDK_URL:"https://games-sdk.gametok.%TLD%/games/api/sdk/v1",auth:{provider:o.Ho.XSOLLA},adv:l.default,analytics:{counters:{aw:["AW-11012499756"],ga:"G-NYN3DJXC36",metrika:92757394},rumProject:"playhop"},basePath:"",cdnSuffix:{name:"gametok-cdn",path:"/cdn"},componentsSettings:{footer:{disableSocialNetworks:!0},loginButton:{useIcon:!1},leftPanel:{showDSA:!0}},condition:new RegExp(/gametok\./,"i"),cookieName:o.OL,loginInNewTab:!0,name:i.wK.Gametok,sendMetrikaYandexUID:!0,tlds:["com"],layoutFoundWidth:{desktop:{"(min-width: 2441px)":12,"(max-width: 2440px) and (min-width: 1873px)":8,"(max-width: 1872px) and (min-width: 1286px)":6,"(max-width: 1285px) and (min-width: 973px)":4,"(max-width: 972px) and (min-width: 751px)":3,"(max-width: 750px)":2},mobile:{"(orientation: portrait) and (max-width: 498px)":3,"(orientation: landscape) and (max-width: 498px)":4,"(min-width: 499px) and (max-width: 570px)":4,"(min-width: 571px) and (max-width: 669px)":5,"(min-width: 670px) and (max-width: 1023px)":6,"(min-width: 1024px)":8}},helpUrl:"/support",faviconPath:`${o.Ni}/games-static/favicons/gametok`,payments:{xsollaEnabled:!0,moneyCodeSymbol:o.NA.CON},gameSettings:{rated:{ugcApi:!1}},themes:{theme:o.XY.ALLWEBGAMES,themeColor:o.aN.DARK,uiKit:o.Zi.ALLWEBGAMES,uiKitFeatures:r.PLAYHOP_FEATURE_CONFIG},manifest:{colors:{background:"#222",theme:"#222"}},fontInfo:{fonts:[{family:"Druk Wide Cy",format:"woff",style:"normal",urls:{900:"/druk-wide/heavy.woff"}},{family:"Druk Wide Cy",format:"woff2",style:"normal",urls:{900:"/druk-wide/heavy.woff2"}},{family:"Roboto",format:"woff",style:"normal",urls:{400:"/roboto/regular.woff",500:"/roboto/medium.woff"}},{family:"Roboto",format:"woff2",style:"normal",urls:{400:"/roboto/regular.woff2",500:"/roboto/medium.woff2"}}],vault:s.EFontVaults.STATIC},languages:n.o7,mapLangsByTld:n.HU,startYear:2024,useFakeFeedback:!0,singleLogo:!0,seo:{useTankerDescription:!0},useColorizeCategoriesIcon:!1,useNewBalancePopup:!1}},571:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var o=a(303),n=a(813),r=a(877),i=a(124),s=a(194);const l={BACKEND_SDK_URL:"https://games-sdk.playhop.%TLD%/games/api/sdk/v1",adv:a(227).default,auth:{provider:o.Ho.XSOLLA},analytics:{counters:{aw:["AW-11012499756"],ga:"G-NYN3DJXC36",metrika:92757394},rumProject:"playhop"},basePath:"",disableWordWideForLocation:[225],cdnSuffix:{name:"playhop-cdn",path:"/cdn"},componentsSettings:{buttons:{playGuardApplySize:"m",playGuardApplyView:"promo",recoveryCodeView:"primary",searchSubmitView:"action"},common:{balancePopupType:"withBadge",showEuropeMonthlyCounter:!0},footer:{disableSocialNetworks:!0},loginButton:{useIcon:!1},leftPanel:{showDSA:!0},navigation:{showLinkIcon:!0}},condition:new RegExp(/playhop\./,"i"),cookieName:o.OL,loginInNewTab:!0,name:i.wK.Playhop,logoPath:`${o.Ni}/games-static/static-data/images/single-logo/playhop_white.svg`,sendMetrikaYandexUID:!0,languages:n.o7,mapLangsByTld:n.HU,tlds:["com"],layoutFoundWidth:{desktop:{"(min-width: 2441px)":12,"(max-width: 2440px) and (min-width: 1873px)":8,"(max-width: 1872px) and (min-width: 1286px)":6,"(max-width: 1285px) and (min-width: 973px)":4,"(max-width: 972px) and (min-width: 751px)":3,"(max-width: 750px)":2},mobile:{"(orientation: portrait) and (max-width: 498px)":3,"(orientation: landscape) and (max-width: 498px)":4,"(min-width: 499px) and (max-width: 570px)":4,"(min-width: 571px) and (max-width: 669px)":5,"(min-width: 670px) and (max-width: 1023px)":6,"(min-width: 1024px)":8}},helpUrl:"/support",faviconPath:`${o.Ni}/games-static/favicons/playhop`,payments:{xsollaEnabled:!0,moneyCodeSymbol:o.NA.HOP},gameSettings:{rated:{ugcApi:!1}},themes:{theme:o.XY.PLAYHOP,themeColor:o.aN.DARK,uiKit:o.Zi.PLAYHOP,uiKitFeatures:r.PLAYHOP_FEATURE_CONFIG},manifest:{colors:{background:"#222",theme:"#222"}},staticFiles:{"/.well-known/assetlinks.json":"https://yastatic.net/s3/games-static/static-data/well-known/assetlinks.json"},feedbackSettings:{disableRate:!0,flagName:"uxFeedbackBoxSolutionPlayhopEnabled"},fontInfo:{fonts:[{family:"Druk Wide Cy",format:"woff",style:"normal",urls:{900:"/druk-wide/heavy.woff"}},{family:"Druk Wide Cy",format:"woff2",style:"normal",urls:{900:"/druk-wide/heavy.woff2"}},{family:"Roboto",format:"woff",style:"normal",urls:{400:"/roboto/regular.woff",500:"/roboto/medium.woff"}},{family:"Roboto",format:"woff2",style:"normal",urls:{400:"/roboto/regular.woff2",500:"/roboto/medium.woff2"}}],vault:s.EFontVaults.STATIC},useColorizeCategoriesIcon:!0,splashscreenLangs:["en"],startYear:2022,seo:{useTankerDescription:!0},useFakeFeedback:!0,useNewBalancePopup:!1,legalPages:{"/termsofuse":{footerOrder:1,menuOrder:2,pagePrefix:"termsofuse"},"/confidential":{footerOrder:2,menuOrder:3,pagePrefix:"confidential"},"/support":{footerOrder:3,menuOrder:1,type:"support",params:{formId:"13469569.346ee0262eeefb910f3e757c74475cd606406393",formUrl:"https://forms.yandex.com/surveys/"},pagePrefix:"technical.support"},"/dsa":{footerOrder:4,menuOrder:4,pagePrefix:"dsa",withMetadata:!0},"/license":{hideLink:!0,footerOrder:99,menuOrder:99,pagePrefix:"license"}}}},797:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var o=a(303),n=a(813),r=a(877),i=a(124),s=a(194),l=a(449);const d=`passport${i.U1}.yandex.%TLD%`,c=`oauth${i.U1}.yandex.%TLD%`,u={BACKEND_SDK_URL:"https://games-sdk.yandex.%TLD%/games/api/sdk/v1",PASSPORT_HOST:d,PASSPORT_TV_PATH:"/smarttv",adv:l.default,OAUTH_HOST:c,analytics:{counters:{aw:["AW-10952943694","AW-11012557999","AW-11073835969","AW-11079658210","AW-11088365326","AW-10939309804","AW-11083110083","AW-11099522515","AW-11137786849"],metrika:49035923,ga:"G-DXYVDRRVYB"},rumProject:"games"},basePath:"/games",cdnSuffix:{name:"games-cdn",path:"/games/cdn"},componentsSettings:{buttons:{playGuardApplySize:"l",playGuardApplyView:"action",recoveryCodeView:"promo",searchSubmitView:"promo"},common:{usePromo:!0},displayFeedback:{use:!0},footer:{allowSidebar:!0,disableSocialNetworks:!0,onlyButtonInMobile:!0,secondaryShortcutButtonView:!0,usePartnersBlock:!0},leftPanel:{showRecommendations:!0,showPartners:!0},loginButton:{useIcon:!0}},condition:new RegExp(/yandex\.|ya\.ru$/,"i"),cookieName:o.Dz,name:i.wK.Yandex,sendMetrikaYandexUID:!1,tlds:["az","by","co.il","com.am","com.ge","com.tr","com","ee","fr","kz","lt","lv","md","ru","tj","tm","uz"],layoutFoundWidth:{desktop:{"(min-width: 2441px)":12,"(max-width: 2440px) and (min-width: 1873px)":8,"(max-width: 1872px) and (min-width: 1286px)":6,"(max-width: 1285px) and (min-width: 973px)":4,"(max-width: 972px) and (min-width: 751px)":3,"(max-width: 750px)":2},mobile:{"(orientation: portrait) and (max-width: 498px)":3,"(orientation: landscape) and (max-width: 498px)":4,"(min-width: 499px) and (max-width: 570px)":4,"(min-width: 571px) and (max-width: 669px)":5,"(min-width: 670px) and (max-width: 1023px)":6,"(min-width: 1024px)":8}},helpUrl:`https://yandex.${o.U0}/support/games/troubleshooting.html`,faviconPath:`${o.Ni}/games-static/favicons/yandex`,feedbackSettings:{flagName:"uxFeedbackBoxSolutionEnabled",canShowSpeedButton:!0},payments:{xsollaEnabled:!1,moneyCodeSymbol:o.NA.YAN},gameSettings:{rated:{ugcApi:!0}},themes:{theme:o.XY.DEFAULT,themeColor:o.aN.LIGHT,uiKit:o.Zi.YAGAMES,uiKitFeatures:r.YANDEX_FEATURE_CONFIG},manifest:{gamesApplication:[{id:"ru.yandex.games",platform:"play",url:"https://play.google.com/store/apps/details?id=ru.yandex.games"}],screenshots:{desktop:{ru:6,en:6},mobile:{ru:6,en:6}},colors:{background:"#fff",theme:"#fff"}},startYear:2018,staticFiles:{"/google36a7fb7240f47953.html":"https://yastatic.net/s3/games-static/static-data/google36a7fb7240f47953.html"},staticRedirects:{"/developers":{code:301,target:"https://yandex.ru/dev/games/"}},fontInfo:{fonts:[{family:"YS Text",format:"woff",style:"normal",urls:{400:"/ys/1/text-regular.woff",500:"/ys/1/text-medium.woff",700:"/ys/1/text-bold.woff"}},{family:"YS Text",format:"woff2",style:"normal",urls:{400:"/ys/1/text-regular.woff2",500:"/ys/1/text-medium.woff2",700:"/ys/1/text-bold.woff2"}}],vault:s.EFontVaults.MAIN},splashscreenLangs:["ru","en"],useColorizeCategoriesIcon:!1,languages:n.wz,mapLangsByTld:n.ro,useNewBalancePopup:!0,seo:{useBackendMetaDescription:!0}}},194:(e,t,a)=>{"use strict";a.d(t,{EFontVaults:()=>o});var o=(e=>(e.MAIN="home",e.STATIC="games-static",e))(o||{})},303:(e,t,a)=>{"use strict";a.d(t,{Dz:()=>n,Ho:()=>l,NA:()=>s,Ni:()=>i,OL:()=>o,U0:()=>r,XY:()=>c,Zi:()=>u,aN:()=>d});const o="igames",n="yandexuid",r="%TLD%",i="%CDN_URL%";var s=(e=>(e.CON="CON",e.HOP="HOP",e.YAN="YAN",e))(s||{}),l=(e=>(e.PUID="puid",e.XSOLLA="xsolla",e))(l||{}),d=(e=>(e.DARK="dark",e.LIGHT="light",e))(d||{}),c=(e=>(e.ALLWEBGAMES="allwebgames",e.DEFAULT="default",e.PLAYHOP="playhop",e.TRANSSION="transsion",e))(c||{}),u=(e=>(e.ALLWEBGAMES="allwebgames",e.PLAYHOP="playhop",e.TRANSSION_DARK="transsion_dark",e.TRANSSION_LIGHT="transsion_light",e.YAGAMES="yagames",e))(u||{})},813:(e,t,a)=>{"use strict";a.d(t,{HU:()=>m,o7:()=>d,ro:()=>h,wz:()=>p});var o=(e=>(e.af="af",e.am="am",e.ar="ar",e.az="az",e.be="be",e.bg="bg",e.bn="bn",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es="es",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fr="fr",e.gl="gl",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.hy="hy",e.id="id",e.is="is",e.it="it",e.ja="ja",e.ka="ka",e.kk="kk",e.km="km",e.kn="kn",e.ky="ky",e.lo="lo",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mn="mn",e.mr="mr",e.ms="ms",e.my="my",e.ne="ne",e.nl="nl",e.no="no",e.pl="pl",e.pt="pt",e.ro="ro",e.ru="ru",e.si="si",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.tg="tg",e.th="th",e.tk="tk",e.tl="tl",e.tr="tr",e.uk="uk",e.ur="ur",e.uz="uz",e.vi="vi",e.zh="zh",e.zu="zu",e))(o||{});const n=Object.values(o);var r=(e=>(e.az="az",e.by="by",e["co.il"]="co.il",e.com="com",e["com.am"]="com.am",e["com.ge"]="com.ge",e["com.tr"]="com.tr",e.ee="ee",e.fr="fr",e.kz="kz",e.lt="lt",e.lv="lv",e.md="md",e.ru="ru",e.tj="tj",e.tm="tm",e.uz="uz",e))(r||{});Object.values(r);const i={az:["az"],by:["be","ru"],"co.il":["he"],com:["en",...n],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]};Object.keys(i).reduce(((e,t)=>(e[t]=i[t][0],e)),{});var s=(e=>(e.af="af",e.am="am",e.bn="bn",e.da="da",e.el="el",e.et="et",e.eu="eu",e.fi="fi",e.gl="gl",e.hr="hr",e.is="is",e.km="km",e.kn="kn",e.ky="ky",e.lo="lo",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mn="mn",e.mr="mr",e.ms="ms",e.my="my",e.ne="ne",e.no="no",e.si="si",e.sl="sl",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.tg="tg",e.tl="tl",e.ur="ur",e.zu="zu",e))(s||{});const l=Object.values(s),d=n.filter((e=>!l.includes(e)));var c=(e=>(e.bg="bg",e.cs="cs",e.da="da",e.de="de",e.el="el",e.es="es",e.et="et",e.fi="fi",e.fr="fr",e.hr="hr",e.hu="hu",e.it="it",e.lt="lt",e.lv="lv",e.nl="nl",e.pl="pl",e.pt="pt",e.ro="ro",e.sk="sk",e.sl="sl",e.sv="sv",e))(c||{});const u=Object.values(c),p=d.filter((e=>![...u].includes(e))),m={az:["az"],by:["be","ru"],"co.il":["he"],com:["en",...d],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]},h={az:["az"],by:["be","ru"],"co.il":["he"],com:["en",...p],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]}},877:(e,t,a)=>{"use strict";a.d(t,{PLAYHOP_FEATURE_CONFIG:()=>n,YANDEX_FEATURE_CONFIG:()=>o});const o={button:{hasPromoView:!1},floatButton:{arrowType:"long"}},n={button:{hasPromoView:!0},floatButton:{arrowType:"short"}}},15:(e,t,a)=>{"use strict";a.d(t,{Ts:()=>g,X4:()=>u,Zi:()=>p,fF:()=>h});var o=a(597),n=a(309),r=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(e,t,a)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,c=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&d(e,a,t[a]);if(i)for(var a of i(t))l.call(t,a)&&d(e,a,t[a]);return e};const u="YandexSDKLogError";function p(e){var t;let a;try{throw new Error}catch(o){const n=/(\w+)@|at (.+) \(/g,r=e||o.stack||"";if(r.matchAll){const e=Array.from(r.matchAll(n))||[];a=null==(t=e[e.length-1])?void 0:t[2]}}return a}function m(e,t,a){var r,i,s;const l=function(e,t){var a,n,r,i;const{message:s,additional:l={}}=(0,o.S)(e.message||String(e)),d={columnNumber:null!=(a=e.columnNumber)?a:-1,fileName:e.fileName||"",lineNumber:null!=(n=e.lineNumber)?n:-1,name:e.name||"Error",message:s,stack:e.stack||""},u={appId:void 0,version:parseInt((null==(r=window.YandexGamesSDKEnvironment)?void 0:r.APP_VERSION)||(null==(i=window.clientMetadata)?void 0:i.appVersion),10)||0};return d.additional=c(c(c(c({},e.additional),t.additional),u),l),d}(t,a);a.message&&(l.message=a.message),a.prefix&&(l.message=`${a.prefix} ${l.message}`),n.Z["YaGames"in window?"postToParent":"post"]({data:{block:`ErrorCounter/common: ${e}`,error:l,level:null!=(r=a.level)?r:"error",source:e,sourceMethod:null!=(i=a.sourceMethod)?i:p(l.stack),type:null!=(s=a.type)?s:"error"},type:"error"}).catch(console.warn)}function h(e,t={}){m("sdk",e,t),console.warn(e)}function g(e,t={}){m("sdk-game",e,t),console.error(e,u)}},597:(e,t,a)=>{"use strict";a.d(t,{S:()=>n,Z:()=>r});const o=[{regexp:new RegExp("User .+ already exists in users list!"),title:"User already exists in users list!"},{regexp:new RegExp("\\(Filename:.+Line: -?[0-9]+\\)"),title:"Unity"},{substr:"UnityEngine",title:"Unity"},{substr:"Dimensions must match",title:"Unity"},{substr:"Loading FSB failed for audio clip",title:"Unity"},{substr:"UnityLoader",title:"Unity"},{substr:"FS.syncfs operations in flight at once, probably just doing extra work",title:"Unity"},{substr:"GLSL",title:"GLSL"},{substr:"ValerypopoffJS plugin",title:"ValerypopoffJS plugin"},{substr:"https://github.com/cocos-creator/engine",title:"cocos-creator"},{substr:"Wicket.Ajax",title:"Wicket.Ajax"},{substr:'Error loading sound "%s"',title:'"loading sound"'},{substr:"Error loading image",title:'"loading image"'},{substr:"Error loading Texture",title:'"loading Texture"'},{substr:"Error loading asset",title:'"loading asset"'},{substr:"Error loading audio url",title:'"loading audio url"'},{substr:"Error loading animation resource",title:'"loading animation resource"'},{substr:"Failed to load resource:",title:'"loading resource"'},{substr:"Could not load",title:'"loading"'},{substr:"Failed to load",title:'"loading"'},{regexp:new RegExp("[Cc]ould not allocate memory"),title:"working with memory"},{substr:"Out of executable memory in function at index",title:"working with memory"},{substr:"memory access out of bounds",title:"working with memory"},{substr:"pre-main prep time: ",title:'"pre-main prep time"'},{substr:"FAILED DIGGING: ",title:'"DIGGING"'},{substr:"sth wrong with connection!",title:'"sth wrong with connection!"'},{substr:"Object2D is not available",title:'"Object2D is not available"'},{regexp:new RegExp("^Client : Error finish action.*?respawn$"),title:'"finish action respawn"'},{substr:"[TokenStorageYandex]",title:"TokenStorageYandex"},{substr:"TOO_SMALL_CONTAINER",title:"TOO_SMALL_CONTAINER"},{substr:"window.cb",title:"Error related to window.cb"},{substr:"Not allowed to call RecalculateBounds",title:"Not allowed to call RecalculateBounds"},{regexp:new RegExp(/Loading chunk.*?partner-code-bundles/),title:"Loading chunk partner-code-bundles errors"}],n=e=>{for(const t of o)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return{message:`[grouped] Error related to ${t.title}`,additional:{message:e}};return{message:e}},r=e=>{const t=(e=>e.map((e=>{if("object"==typeof e)try{return JSON.stringify(e)}catch(t){return`${e}: ${t.message}`}return String(e)})).join(" "))(e),a=n(t),o=new Error(a.message);return a.additional&&(o.additional=a.additional),o}},615:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});class o extends Error{constructor({code:e,httpStatus:t,message:a},n,r){super(a,n,r),this.name="FetchError",this.code=e,this.httpStatus=t,Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const n=o},815:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});class o extends Error{constructor({code:e,httpStatus:t,message:a},n,r){super(a,n,r),this.name="PaymentsError",this.code=e,this.httpStatus=t,Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const n=o},309:(e,t,a)=>{"use strict";a.d(t,{Z:()=>k});var o=a(15);class n extends Error{constructor({code:e,message:t},a,o){super(t,a,o),this.name="AuthError",this.code=e,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n)}toJSON(){return{code:this.code,message:this.message,name:this.name,stack:this.stack}}}const r=n;var i=a(615),s=a(815);const l={AuthError:r,FetchError:i.Z,PaymentsError:s.Z};class d{constructor(e=[]){this.history={},this.defaultAction=Symbol(),e.forEach((e=>{this.add(e)}))}add(e){const{type:t,action:a=this.defaultAction}=e.data||{};t&&(this.history[t]||(this.history[t]={}),this.history[t][a]=e)}hasEvent(e,t){return Boolean(this.getEvents(e,t).length)}getEvents(e,t){const a=this.history[e]||{};return t?a[t]?[a[t]]:[]:[...a[this.defaultAction]?[a[this.defaultAction]]:[],...Object.values(a)]}}var c=a(531),u=a(377);var p=Object.defineProperty,m=Object.defineProperties,h=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,y=(e,t,a)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,b=(e,t)=>{for(var a in t||(t={}))_.call(t,a)&&y(e,a,t[a]);if(g)for(var a of g(t))f.call(t,a)&&y(e,a,t[a]);return e};class w{constructor(){var e;this.externalCallbacks={},this.internalCallbacks={},this.suppressNoGameFrameWarning=!1,this.externalHistory=new d(this.getExternalEvents()),this.internalHistory=new d([]),this.getInternalEvents().forEach((e=>{this.postEventDataToListeners(e,[])}));const t=null==(e=window.earlyEvents)?void 0:e.listeners.find((e=>"message"===e.type));t&&t.element.removeEventListener(t.type,t.fn),window.earlyEvents&&(window.earlyEvents.messages=window.earlyEvents.messages.filter((e=>!("forward"===e.action&&["gameMessage","internalMessage"].includes(e.type))))),this._promises=Object.create(null),this._externalListeners=Object.create(null),this._internalListeners=Object.create(null),this._addEventListener()}get _parentTarget(){return window.parent!==window?window.parent:void 0}get _gameFrame(){const e=function(){const e=window.YandexGamesSDK&&window.YandexGamesSDK.FRAME_ID;if(e&&"string"==typeof e){const t=document.getElementById(e);if(t)return t}}();return e||this.suppressNoGameFrameWarning||console.warn("No game frame to post"),e}get _gameFrameAllowedOrigins(){var e;try{const t=null==(e=this._gameFrame)?void 0:e.dataset.allowedOrigins;if(!t)return;return JSON.parse(t)}catch(e){return}}get _childTarget(){var e;return null==(e=this._gameFrame)?void 0:e.contentWindow}hasEvents({action:e,source:t,type:a}){return"external"===t?this.externalHistory.hasEvent(a,e):"internal"===t?this.internalHistory.hasEvent(a,e):this.internalHistory.hasEvent(a,e)||this.externalHistory.hasEvent(a,e)}getEvents({action:e,source:t,type:a}){const o=[];return t&&"external"!==t||o.push(...this.externalHistory.getEvents(a,e)),t&&"internal"!==t||o.push(...this.internalHistory.getEvents(a,e)),o}onAllMessages(e,t,a){this.onExternalMessage(e,t,a),this.onInternalMessage(e,t,a)}offAllMessages(e,t){this.offExternalMessage(e,t),this.offInternalMessage(e,t)}onExternalMessage(e,t,a){const{withHistory:o=!0}=a||{};o&&this.getSortedEvents(e,"external").forEach((e=>{t(e,this.getExternalCallback(e))})),this._onMessage(this._externalListeners,e,t)}offExternalMessage(e,t){this._offMessage(this._externalListeners,e,t)}onInternalMessage(e,t,a){const{withHistory:o=!1}=a||{};o&&this.getSortedEvents(e,"internal").forEach((e=>{t(e,this.internalCallbacks[e.data.messageId]||(()=>{}))})),this._onMessage(this._internalListeners,e,t)}offInternalMessage(e,t){this._offMessage(this._internalListeners,e,t)}externalPost(e){this._handleEvent(e)}post(e){return this.postEventDataToListeners(e,this._internalListeners[e.type])}hasParent(){return Boolean(this._parentTarget)}postToParent(e){const t=this._parentTarget;return t?this._post(t,e):Promise.reject(new Error("No parent to post message"))}hasChild(){this.suppressNoGameFrameWarning=!0;const e=Boolean(this._childTarget);return this.suppressNoGameFrameWarning=!1,e}postToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${"action"in e?e.action:"-"}`))}getInternalEvents(){const{messages:e}=window.earlyEvents||{};return e?e.filter((e=>{var t;return"internalMessage"===e.type&&"forward"===e.action&&(null==(t=e.data)?void 0:t.originalEvent)})).map((e=>e.data.originalEvent)):[]}getExternalEvents(){const{messages:e}=window.earlyEvents||{};if(!e)return[];const t=this.getOriginsFromParams()||this._gameFrameAllowedOrigins||[];return e.filter((e=>{var a;return"gameMessage"===e.type&&"forward"===e.action&&t.includes(e.origin)&&(null==(a=e.data)?void 0:a.originalEvent)})).map((e=>e.data.originalEvent))}_addEventListener(){window.addEventListener("message",(e=>{const{source:t}=e.data||{};"YandexGamesSDK"===t&&this._handleEvent(e)}))}getExternalCallback(e){const{type:t,action:a,messageId:o,payload:n}=e.data||{};if(this.externalCallbacks[o])return this.externalCallbacks[o];return this.externalCallbacks[o]=(e={})=>{const r={type:e.type||t,action:e.action||a,originMessageId:o,originPayload:n,data:e.data||{}};!function(e,t){t.error&&(e.error=String(t.error.message)||null,e.errorJSON=JSON.stringify(t.error)||null)}(r,e),this.postCallbackToChild(r),this.externalCallbacks[o]=()=>{}},this.externalCallbacks[o]}_handleEvent(e){const{type:t,action:a,originMessageId:n,originPayload:r,data:i,error:s,errorJSON:d}=e.data||{},c=this._promises[n];c&&(this.deletePromise(n),void 0===s?c.resolve({type:t,action:a,originPayload:r,data:i}):c.reject(function({error:e,errorJSON:t}){if(t)try{const e=JSON.parse(t);if(e&&e.name in l)return new l[e.name](e)}catch(e){(0,o.fF)(e)}return new Error(e||"")}({error:s,errorJSON:d})));const u=this.getExternalCallback(e);this.externalHistory.add(e);const p=this._externalListeners[t]||[];for(const t of p)try{t(e,u)}catch(e){(0,o.fF)(e)}}getSortedEvents(e,t){const a="external"===t?this.externalHistory:this.internalHistory;return"string"==typeof e&&(e=[e]),e.reduce(((e,t)=>e.concat(a.getEvents(t))),[]).sort(((e,t)=>e.data.messageId>t.data.messageId?1:-1))}_onMessage(e,t,a){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const o of t)o in e||(e[o]=[]),e[o].push(a)}_offMessage(e,t,a){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const o of t)o in e&&(e[o]=e[o].filter((e=>e!==a)))}postEventDataToListeners(e,t=[]){const{action:a,type:n}=e;return new Promise((r=>{const i=`${Date.now()}-${Math.random()}`,s=(e={})=>{const t={action:e.action||a,data:e.data||{},errorInstance:e.error,originMessageId:i,type:e.type||n};r(t),delete this.internalCallbacks[i]};this.internalCallbacks[i]=s;const l=new MessageEvent(n,{data:(d=b({},e),c={messageId:i},m(d,h(c)))});var d,c;this.internalHistory.add(l);for(const e of t)try{e(l,s)}catch(e){(0,o.fF)(e)}}))}postCallbackToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}clearPromiseWaitTimeout(e){const t=this._promises[e];(null==t?void 0:t.timeoutId)&&(window.clearTimeout(t.timeoutId),delete t.timeoutId)}deletePromise(e){this.clearPromiseWaitTimeout(e),delete this._promises[e]}_post(e,t){const a=Date.now(),n=`${a}-${Math.random()}`;t=Object.assign({},t,{source:"YandexGamesSDK",messageId:n});let r=e=>{},i=e=>{};const s=new Promise(((e,t)=>{r=e,i=t}));this._promises[n]={promise:s,resolve:r,reject:i,time:a};try{e.postMessage(function(e){if("function"==typeof structuredClone)try{return structuredClone(e),e}catch(t){return(0,c.H)({block:u.W.UTILS_UNIVERSAL,message:"Error structuredClone operation",additional:{error:t}}),e}return e}(t),"*")}catch(e){return this.deletePromise(n),Promise.reject(e)}if("timeout"in t){const{timeout:e}=t;"number"==typeof e&&e>0?this._promises[n].timeoutId=window.setTimeout((()=>{this.deletePromise(n),i(new Error("Message rejected by timeout"))}),e):(0,o.fF)(new Error("Wrong timeout value"))}return s}getOriginsFromParams(){var e,t;const a=[];return"string"==typeof(null==(e=window.playPageData)?void 0:e.gameOrigin)&&a.push(window.playPageData.gameOrigin),"string"==typeof(null==(t=window.appData)?void 0:t.baseHost)&&a.push(window.appData.baseHost),a.length?a:void 0}}let v;if("object"==typeof window)window.YandexGamesSDKGlobals=window.YandexGamesSDKGlobals||{},window.YandexGamesSDKGlobals.messaging||(window.YandexGamesSDKGlobals.messaging=new w),v=window.YandexGamesSDKGlobals.messaging;else{const e=()=>{throw new Error("Not impl")},t=e=>Promise.reject(new Error("Not impl"));v={externalPost:t=>e,getEvents:e,hasChild:()=>!1,hasEvents:e,hasParent:()=>!1,offAllMessages:e,offExternalMessage:e,offInternalMessage:e,onAllMessages:e,onExternalMessage:e,onInternalMessage:e,post:t,postToChild:t,postToParent:t}}const k=v},576:(e,t,a)=>{"use strict";a.d(t,{r:()=>r});var o=a(531),n=a(377);function r(){var e,t,a,r,i,s;if("undefined"==typeof window)return"";let l="";return(null==(e=window.YandexGamesSDK)?void 0:e.environment)&&(l=(null==(a=null==(t=window.YandexGamesSDK.environment)?void 0:t.app)?void 0:a.id)||""),window.YandexGamesSDKEnvironment&&(l=(null==(r=window.YandexGamesSDKEnvironment.app)?void 0:r.id)||""),l||(0,o.H)({block:n.W.UTILS_LOCATION,level:null==(s=null==(i=window.Ya)?void 0:i.Rum)?void 0:s.ERROR_LEVEL.ERROR},new Error("Can not get appId from environment")),l}},829:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var o=a(15),n=a(309),r=a(576);const i="metrika",s=e=>({type:i,action:"reachGoal",data:e}),l=e=>({type:i,action:"params",data:e});var d=a(343);const c=Object.create(null),u={init(){},sendOnceDeprecatedUsage(e){e in c||(c[e]=1,this.params({borrowParams:{sdkDeprecatedUsage:{key:e,appId:(0,r.r)()}},service:d.m_}))},params(e){n.Z.hasParent()&&n.Z.postToParent(l(e)).catch((e=>{(0,o.fF)(e)}))},reachGoal(e,t,a){n.Z.hasParent()&&n.Z.postToParent(s({data:t,goal:e,params:a})).catch((e=>{(0,o.fF)(e)}))}}},343:(e,t,a)=>{"use strict";a.d(t,{Tc:()=>d,m_:()=>l});var o,n,r,i,s=a(418);const l="undefined"!=typeof window&&((null==(n=null==(o=window.YandexGamesSDK)?void 0:o.environment)?void 0:n.serviceName)||(null==(r=window.YandexGamesSDKEnvironment)?void 0:r.serviceName)||(null==(i=window.clientMetadata)?void 0:i.serviceName))||s.kJ.YANDEX,d=5e3},762:(e,t,a)=>{"use strict";function o(e,t){let a,o;return function(...n){const r=n,i=this;return a||(a=!0,setTimeout((()=>a=!1),t),o=e.apply(i,r)),o}}a.d(t,{P:()=>o})},275:(e,t,a)=>{"use strict";a.d(t,{HE:()=>r,uh:()=>n});const o=()=>{var e;return Boolean("undefined"!=typeof window&&(null==(e=null==window?void 0:window.Ya)?void 0:e.Rum))},n=()=>{var e,t;return Boolean(o()&&(null==(t=null==(e=window.Ya)?void 0:e.Rum)?void 0:t.logError))},r=()=>o()&&Boolean(window.Ya.Rum.logEventFloat)&&Boolean(window.Ya.Rum.logEventInteger)&&Boolean(window.Ya.Rum.logEventString)},531:(e,t,a)=>{"use strict";a.d(t,{H:()=>P});var o=a(762),n=a(377),r=a(380);let i;const s=()=>{var e;return!("undefined"==typeof window||!window.appData)&&(!!(!window.appData.abt.flags[r.Z.sendAdvLogsAfterGDPR]||i||window.appData&&!window.appData.withWorldWideAdv||(null==(e=window.clientMetadata)?void 0:e.isOnlyRsyaAd))||(void 0===i&&(i=!1,window.googlefc=window.googlefc||{callbackQueue:[]},window.googlefc.callbackQueue.push((()=>{i=!0}))),Boolean(i)))};const l=[{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is hidden/),title:"Monetization error [yandex]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is hidden/),title:"Monetization error [google]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [yandex]: yandex error - Container is not found (init)"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [google]: yandex error - Container is not found (init)"},{substr:"[SW] Trouble with registration; Failed to register a ServiceWorker",title:"[SW] Trouble with registration; Failed to register a ServiceWorker"},{substr:"window.cb",title:"Error related to window.cb"},{regexp:new RegExp(/Loading chunk.*?partner-code-bundles/),title:"Loading chunk partner-code-bundles errors"}],d=(e,t)=>{var a;if(!e.startsWith("[SW]"))return t;const o=null==(a=e.split(": ").pop())?void 0:a.trim();return o===e?t:`${t}: ${o}`};var c=a(275),u=Object.defineProperty,p=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),m=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_=(e,t)=>{for(var a in t||(t={}))m.call(t,a)&&g(e,a,t[a]);if(p)for(var a of p(t))h.call(t,a)&&g(e,a,t[a]);return e};let f=[],y=[];const b=250;function w(){f.length>b&&(f=f.slice(-250)),y.length>b&&(y=y.slice(-250))}function v(){var e,t,a;try{throw new Error}catch(o){const n=/(\w+)@|at (.+) \(/g,r=o.stack||"";if(r.matchAll){const o=Array.from(r.matchAll(n))||[];return(null==(e=o[2])?void 0:e[2])||(null==(t=o[1])?void 0:t[2])||(null==(a=o[0])?void 0:a[2])}return}}const k=(0,o.P)((function(){if(!y.length||!(0,c.HE)()||!s())return;y.splice(0,10).forEach((({event:e,value:t,options:a})=>{var o,n,r,i,s,l;return"number"==typeof t?Number.isInteger(t)?null==(n=null==(o=window.Ya)?void 0:o.Rum)?void 0:n.logEventInteger(e,t,a):null==(i=null==(r=window.Ya)?void 0:r.Rum)?void 0:i.logEventFloat(e,t,a):null==(l=null==(s=window.Ya)?void 0:s.Rum)?void 0:l.logEventString(e,t,a)})),y.length&&k()}),1e3),E=(0,o.P)((function(){if(!f.length||!(0,c.uh)()||!s())return;f.splice(0,10).forEach((({error:e,data:t})=>{var a,o;null==(o=null==(a=window.Ya)?void 0:a.Rum)||o.logError(t,e)})),f.length&&E()}),1e3);const P=function(e,t){var a,o,r;let i=e,{additional:s,level:c,message:u,prefix:g,source:y="catalog",sourceMethod:b}=i,k=((e,t)=>{var a={};for(var o in e)m.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&p)for(var o of p(e))t.indexOf(o)<0&&h.call(e,o)&&(a[o]=e[o]);return a})(i,["additional","level","message","prefix","source","sourceMethod"]);const{message:P,additional:x={}}=(e=>{for(const t of l)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return{message:`[grouped] ${d(e,t.title)}`,additional:{message:e}};return{message:e}})(u||(null==t?void 0:t.message)||String(e));u=P,c=c||"undefined"!=typeof window&&(null==(o=null==(a=window.Ya)?void 0:a.Rum)?void 0:o.ERROR_LEVEL.ERROR)||"error",t=t||e,s=_(_({},s),x),g&&(u=`${g} ${u}`);const S=_({additional:s,block:null!=(r=k.block)?r:n.W.RUM_UNSPECIFIED,ignoreErrorMessage:!0,level:c,message:u,source:y,sourceMethod:b||v()},k);f.push({data:S,error:t}),w(),E()}},418:(e,t,a)=>{"use strict";a.d(t,{xY:()=>u,kJ:()=>p});a(303);var o=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(e,t,a)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var c=(e=>(e.ANDROID_OTHER="android_other",e.ANDROID_STANDALONE="android_standalone",e.ANDROID_TV="tv_android",e.ANDROID_YABRO="android_yabro",e.ANDROID_YASEARCH="android_yasearch",e.DESKTOP_OTHER="desktop_other",e.IOS_CHROME="ios_chrome",e.IOS_OTHER="ios_other",e.IOS_SAFARI="ios_safari",e.IOS_SUPERAPP="ios_superapp",e.MOBILE_OTHER="mobile_other",e))(c||{});Object.freeze(Object.values(c).reduce(((e,t)=>{return a=((e,t)=>{for(var a in t||(t={}))s.call(t,a)&&d(e,a,t[a]);if(i)for(var a of i(t))l.call(t,a)&&d(e,a,t[a]);return e})({},e),n(a,r({[t]:t}));var a}),{}));var u=(e=>(e.ADAPTIVE_RECOMMENDED_NEW="adaptive_recommended_new",e.ALL_GAMES_DESKTOP="all_games_desktop",e.ALL_GAMES_MOBILE="all_games_mobile",e.ALL_GAMES_TABLET="all_games_tablet",e.CATEGORIZED_NEW_L="categorized_new_l",e.L="l",e.M="m",e.PAGE_ICON_DESKTOP="page_icon_desktop",e.PAGE_ICON_DESKTOP_WITH_PLAY="page_icon_desktop_with_play",e.PAGE_ICON_MOBILE="page_icon_mobile",e.PAGE_ICON_MOBILE_WITH_PLAY="page_icon_mobile_with_play",e.PAGE_SCROLLED_ICON_MOBILE="page_scrolled_icon_mobile",e.PLAY_SIMILAR_GAMES="play_similar_games",e.PREMIUM="premium",e.PREMIUM_BIG="premium_big",e.PROFILE_RECENT_GAMES="profile_recent_games",e.PROMO_BAR="promo_bar",e.RECOMMENDED_NEW="recommended_new",e.S="s",e.SIZE_22="size22",e.SIZE_36="size36",e.SIZE_48="size48",e.SIZE_84_LOW="size84_low",e.TV="tv",e.YOUR_GAMES="your_games",e.YOUR_GAMES_FORCE="your_games_force",e))(u||{});Object.values({en:"com",kk:"kz",be:"by",ru:"ru",uz:"uz"});var p=(e=>(e.PLAYHOP="playhop",e.YANDEX="yandex",e))(p||{})},377:(e,t,a)=>{"use strict";a.d(t,{W:()=>o});var o=(e=>(e.ADV_STICKY="AdvSticky",e.APP_COMPONENT="App: component",e.APP_PAGE="App: page",e.AUTH="Auth",e.BUNDLES_PLAY="Bundles play",e.CATALOG="Catalog",e.CLID="Clid",e.ERROR_BOUNDARY="Error boundary",e.ERROR_COUNTER="Error counter",e.GAME_IMAGE="GameImage",e.GOOGLE_ADS="Google ads",e.I18N="i18n",e.INIT_BUNDLE_CATALOG="Init bundle catalog",e.INIT_BUNDLE_GAME="Init bundle game",e.METRIKA="Metrika",e.MONETIZATION="Monetization",e.OFFLINE_MOD_HELPER="Offline mod helper",e.PARTNER="Embedding in partner",e.PLAY_TO_EARN="Play2Earn",e.POLYFILL="Polyfill",e.REACT_HYDRATION="React Hydration",e.REDUX="Redux",e.RUM_NATIVE_ERROR="Rum: native error in catalog",e.RUM_UNSPECIFIED="Rum: unspecified error without block",e.SERVER_MIDDLEWARE="Server middleware",e.SERVICE_WORKER_REGISTRATION="ServiceWorker Registration",e.SERVICE_WORKER_UNREGISTRATION="ServiceWorker Unregistration",e.SHORTCUTS_POPUP_MANAGER="ShortcutsPopupManager",e.SIMILAR_GAMES="Similar games",e.SSE="Notify API",e.SSR_GAME="SSR: Game",e.SSR_INDEX="SSR: Index",e.TIME_GOAL_SENDER="Time Goal Sender",e.TRUST="Trust",e.TURBO_APP="Turbo app",e.TV="tv",e.UTILS_LOCATION="Utils: location",e.UTILS_UNIVERSAL="Utils: universal",e.VIDEO_LOADER="Video loader",e.WAIT_TTI="Wait TTI",e.XSOLLA="Xsolla",e))(o||{})},380:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={advAnchorWaterfall:"adv_anchor_waterfall",advAnchorShowDelay:"adv_anchor_show_delay",advAnchorRefreshTimeout:"adv_anchor_refresh_timeout",advWaitSplashScreenReady:"adv_wait_splashscreen_ready",advAdsenseChannel:"adv_adsense_channel",advAdsenseInterstitial:"adv_adsense_interstitial",advAdsenseSticky:"adv_adsense_sticky",advPromoRewardedCounter:"adv_promo_rewarded_counter",advPrerollPerClid:"adv_preroll_per_clid",advPrerollGoogleCustomBlock:"adv_preroll_google_custom_block",advGoogleManualBlocks:"adv_google_manual_blocks",advGoogleInterstitialPreload:"adv_google_interstitial_preload",advGoogleInterstitialRetries:"adv_google_interstitial_retries",advGoogleRewardedRetries:"adv_google_rewarded_retries",advGooglePageUrl:"adv_google_page_url",advTypesEnabled:"adv_types_enabled",advAlternateLogs:"adv_alternate_logs",advCatalogAlternateLogs:"adv_catalog_alternate_logs",advCatalogNewFeed:"adv_catalog_new_feed",advTypesDisabled:"adv_types_disabled",advShowTimeoutFullscreen:"adv_show_fullscreen_timeout",advShowTimeoutRewarded:"adv_show_rewarded_timeout",advDsailOwnPrebidScript:"adv_dsail_own_prebid_script",advPrebidScript:"adv_prebid_script",advRewardedFullscreenWaterfall:"adv_rewarded_fullscreen_waterfall",advStickyMinDesktopWidth:"adv_sticky_min_desktop_width",advStickyEnabledOnStart:"adv_sticky_enabled_on_start",advStickyBannerManagerNew:"adv_sticky_banner_manager_new_3",advStickyBannerManagerNewWithoutWaterfall:"adv_sticky_banner_manager_new_without_waterfall",advStickyBannerDisabled:"adv_sticky_banner_disabled",advStickyBannerPrebid:"adv_sticky_banner_prebid2",advStickyBannerPrebidMulti:"adv_sticky_banner_prebid_multi",advStickyGooglePerAppBlocks:"adv_sticky_google_per_app_blocks",advStickyBannerNative:"adv_sticky_banner_native",advStickyBannerNativeBannerIds:"adv_sticky_banner_native_banner_ids",advStickyBannerNativeLibrary:"adv_sticky_banner_native_library",advHighGptStickyBlockIds:"adv_high_gpt_sticky_block_ids",advStickyBannerLandscapeAdditionalBlock:"adv_sticky_banner_landscape_additional_block",advStickyBannerMinPortraitViewportHeight:"adv_sticky_banner_min_portrait_viewport_height",advStickyBannerMinLandscapeViewportHeight:"adv_sticky_banner_min_landscape_viewport_height",advStickyBannerForcedHideAd:"adv_sticky_banner_forced_hide_ad",advStickyBannerGameLocations:"adv_sticky_banner_game_locations",advStickyBannerUpToRight:"adv_sticky_banner_up_to_right",advStickyBannerBottomToRight:"adv_sticky_banner_bottom_to_right",advStickyBannerMinHeightForHigherAd:"adv_sticky_banner_min_height_for_higher_ad",advStickyBannerLoadTimeout:"adv_sticky_banner_load_timeout",advStickyBannerRefreshInterval:"adv_sticky_banner_refresh_interval",advStickyBannerDesktopWidth:"adv_sticky_banner_desktop_width",advStickyBannerPortraitHeight:"adv_sticky_banner_portrait_height",advStickyBannerLandscapeHeight:"adv_sticky_banner_landscape_height",advStickyBannerRetries:"adv_sticky_banner_retries",advStickyBannerLandscapeWidth:"adv_sticky_banner_landscape_width",advGptStickyBannerIds:"adv_gpt_sticky_banner_ids",advYandexStickyBannerIds:"adv_yandex_sticky_banner_ids",advStickyBannerWhiteBackgroundOnDesktop:"adv_sticky_banner_white_background_on_desktop",advStopRewardedCounterOnLeave:"adv_stop_rewarded_counter_on_leave",advShowOnOffline:"adv_show_on_offline",adScriptInitTimeout:"ad_script_init_timeout",advDelay:"adv_delay",asyncReact:"async_react",bannerCarousel:"bk",bannerCarouselDirect:"bk_direct",balancePopupWaitLoadTimeout:"balance_popup_wait_load_timeout",nativePaymentsEnabled:"native_payments_enabled",catalogGptAdTopPath:"catalog_gpt_ad_top_path",catalogYandexAdTopBlockId:"catalog_yandex_ad_top_block_id",catalogGptAdPaths:"catalog_gpt_ad_paths",catalogGptAdPaths2:"catalog_gpt_ad_paths2",catalogGptBannerType:"catalog_gpt_banner_type",catalogRsyaCustomBlock:"catalog_rsya_custom_block",catalogBodyNarrowRedesignWithSectionIcon:"catalog_body_mobile_narrow_redesign_section_icon",canOpenAdBlockPopup:"can_open_add_block_popup",catalogShortcutPromptInstallWaitingPeriod:"catalog_shortcut_prompt_install_waiting_period",catalogTopAdvBlock:"catalog_top_adv_block",catalogShortcutPromptMaxCallCount:"catalog_shortcut_prompt_max_call_count",catalogShortcutPromptWaitingPeriod:"catalog_shortcut_prompt_waiting_period",categoriesColorizedIconsEnabled:"categories_colorized_icons_enabled",cfMirror:"cf_mirror",cfMirrorGameUrl:"cf_mirror_game_url",cfMirrorGameUrlAppId:"cf_mirror_game_url_appid",cfMirrorStatic:"cf_mirror_static",cfMirrorStaticBuild:"cf_mirror_static_build",clidsForAdditionalCatalogAdv:"clids_for_additional_catalog_adv",clidsForCatalogSticky:"clids_for_catalog_sticky",disableAdButtonInStickyWithAnimation:"disable_ad_button_in_sticky_with_animation",disableAdButtonInStickAnimationDelay:"disable_ad_button_in_sticky_animation_delay",disableDynamicPartnerCSP:"disable_dynamic_partner_csp",disableNativeAdv:"disable_native_adv",disableNativeRewardedPreload:"disable_native_rewarded_preload",disableYandexWaterfall:"disable_yandex_waterfall",disableYandexWaterfallInCatalog:"disable_yandex_waterfall_in_catalog",disableAdButton:"disable_ad_button",disableRotationBanner:"disable_rotation_banner",disableFilteringForAdsProviders:"disable_filtering_for_ads_providers",enablePreloadNativeFullscreen:"enable_preload_native_fullscreen",enablePreloadNativeFullscreenOnStart:"enable_preload_native_fullscreen_on_start",enablePreloadNativeRewarded:"enable_preload_native_rewarded",enablePreloadNativeRewardedOnStart:"enable_preload_native_rewarded_on_start",gameLoader:"game_loader",gamePageMinHeight:"game_page_min_height",approveLeaveBeforeGameLoad:"approve_leave_before_game_load",searchUpperAdv:"search_upper_adv",searchCategoriesCount:"search_categories_count",gameIframeInSSR:"game_iframe_in_ssr",gamePageDrawerEnabled:"game_page_drawer_enabled",inViewContainerShowThreshold:"in_view_container_show_threshold",inViewContainerDebugHighlightOnShow:"in_view_container_debug_highlight_on_show",yandexGDPR:"yandex_gdpr",guardDisabledForStandalone:"guard_disabled_for_standalone",hideStickyWhenAdShown:"hide_sticky_when_ad_shown",lockAdvScreenOrientation:"lock_adv_screen_orientation",lowQualityVideoPreview:"low_quality_video_preview",mediation:"mediation",minInactivePlayTabTimeToShowAd:"min_inactive_play_tab_time_to_show_ad",multiplePrebidTgoAuction:"multi_prebid_tgo_auction",multiInstallPwa:"multi_install_pwa",pwaSpecificStartUrl:"pwa_specific_start_url",nativeFullscreenBlock:"native_fullscreen_block",nativeRewardedBlock:"native_rewarded_block",nativeYandexFullscreenBlock:"native_yandex_fullscreen_block",nativeYandexRewardedBlock:"native_yandex_fullscreen_block",nativeAppodealFullscreenBlock:"native_appodeal_fullscreen_block",nativeAppodealRewardedBlock:"native_appodeal_rewarded_block",nativeApplovinFullscreenBlock:"native_applovin_fullscreen_block",nativeApplovinRewardedBlock:"native_applovin_rewarded_block",newAdvInterval:"new_adv_interval",newLoggingGameCardFC:"new_logging_gamecard_fc",newTimeLogExp:"new_time_log_exp",noAdsPopupForce:"no_ads_popup_force",noAdsPopupForcePopupGapTimeout:"no_ads_popup_force_popup_gap_timeout",noRecent:"no_recent",noStickyOverlay:"no_sticky_overlay",newYearLogo:"new_year_logo",onlyRsyaAd:"only_rsya_ad",partnersKit:"partners_kit",paymentsHidden:"hide_payments",prebidCatalogAdv:"prebid_catalog_adv_3",prebidCatalogAdvTargeting:"prebid_catalog_adv_targeting",prebidCustomBlock:"prebid_custom_block",prebidLoadAfterGpt:"prebid_load_after_gpt",prebidUsePrebid:"prebid_use_prebid_2",prebidRewardedBlock:"prebid_rewarded_block",prebidDisabledBids:"prebid_disabled_bids",prebidExtraBids:"prebid_extra_bids",prebidAuctionTimeout:"prebid_auction_timeout",prebidClearSlot:"prebid_clear_slot",prebidBlockPlaceholder2:"prebid_block_placeholder2",prebidBlockLoader2:"prebid_block_loader2",prebidBlockControlsDelay2:"prebid_block_controls_delay2",prebidPerAppBlocks:"prebid_per_app_blocks",preloadFullscreenAdv:"preload_fullscreen_adv4",preloadRewardedVideo:"preload_rewarded_video",promoBlockWatcher:"promo_block_watcher",promptPopupMobileText:"prompt_popup_mobile",portalCurrencyHidden:"hide_portal_currency",pixelTags:"pixel_tags",redirectFromComToRu:"redirect_from_com_to_ru",disableTVGuardAndScope:"disable_tv_guard_and_scope",rewardedVideoTimeout:"rewarded_video_timeout",rewardedPCodeAdv:"rewarded_pcode_adv",rewardedPCodeAdvPreloadFs:"rewarded_pcode_adv_preload_fs",rsyaDefaultLoadTimeout:"rsya_default_load_timeout",cleanAppQuery:"clean_app_query",rounded3dIcon:"rounded_3d_icon",saveFrameSearch:"save_frame_search",saveFrameSearchForTranssion:"save_frame_search_for_transsion",shortcutWaitOnGameLoadTimeout:"shortcut_wait_on_game_load_timeout",videoReviews:"video_reviews",noGameInfoVideoReviews:"no_game_info_video_reviews",onlyGameUrlVideoReview:"only_game_url_video_review",noReviewsInVideoReview:"no_reviews_in_video_review",otherVideoReviewsCount:"other_video_reviews_count",catalogHeartbeats:"heartbeat_catalog",cspDisabled:"csp_disabled",similarGamesThroughCatalog:"similar_games_through_catalog",slowRegionEnabled:"slow_region_enabled",skipGuard:"skip_guard",tcfapiGetterOverrideEnabled:"tcfapi_getter_override",tcfapiLocatorOverrideEnabled:"tcfapi_locator_override",transsionAdChannel:"transsion_ad_channel",transsionFullscreenPlacementType:"transsion_fullscreen_placement_type",transparent3dIcon:"transparent_3d_icon",turnOffAdv:"turn_off_adv",tvAdEnabled:"tv_ad_enabled",tvSDKTypeAndFormat:"tv_sdk_type_and_format",tvDynamicCatalog:"tv_dynamic_catalog",tvAdVariableBlocksEnabled:"tv_ad_variable_blocks_enabled",ttiMetricaWaitingTimeout:"tti_metrica_waiting_timeout",useAdsGetLibraries:"use_ads_get_libraries",userActivityPopup:"user_activity_popup",userActivityPopupForTesting:"user_activity_popup_for_testing",userActivityPopupShowTime:"user_activity_popup_show_time",uxFeedbackBoxSolutionPlayhopEnabled:"ux_feedback_box_solution_playhop_enabled",uxFeedbackBoxSolutionEnabled:"ux_feedback_box_solution_enabled",webvisorEnabled:"webvisor_enabled",withNativeClose:"with_native_close",xsollaDisabled:"xsolla_disabled",GDPRLoadAfterGame:"gdpr_load_after_game",delayGoogleFCmessage:"delay_google_fc_message",oneTabPWA:"one_tab_pwa",feedDomain:"feed2000_domain",feedUseRedirect:"feed2000_use_redirect",fullscreenGoogleInstreamAds:"fullscreen_google_instream_ads",googleInstreamAdsDisablePreload:"google_instream_ads_disable_preload",fullscreenGoogleInstreamAdsCustomBlock:"fullscreen_google_instream_ads_custom_block",playToEarn:"play_to_earn",avatarConstructor:"avatar_constructor",avatarConstructorMVP:"avatar_constructor_mvp",sendPlayTimePeriodically:"send_play_time_periodically",newRecentGamesEndpoints:"new_recent_games_endpoints",clientTechLog:"client_tech_log",gameHookAlert:"game_hook_alert",splashScreenTransparent:"splash_screen_transparent",disableSpecificAdvBlocks:"disable_specific_adv_blocks",notableGuardPlayButton:"notable_guard_play_button",disableQueryCleanup:"disable_query_cleanup",advGptCatalogMaxBannerSizes:"adv_gpt_catalog_max_banner_sizes",useMaskableIconOnGame:"use_maskable_icon_on_game",distAppDisableFullscreen:"dist_app_disable_fullscreen",replaceAppWithDistApp:"replace_app_with_dist_app",tidyConnection:"tidy_connection",enableCsrfToSdk:"enable_csrf_to_sdk",tinyApp:"tiny_app",newGameQualityScore:"new_game_quality_score",newGameQualityScoreAdditionalTweaks:"new_game_quality_score_additional_tweaks",usePageTypeForSimilarGames:"use_page_type_for_similar_games",newLeftPanel:"new_left_panel",isAdvGameLoaderEnabled:"is_adv_game_loader_enabled",advGameLoaderByClids:"adv_game_loader_by_clids",advGameLoaderBlockId:"adv_game_loader_block_id",advGameLoaderStayOnLoad:"adv_game_loader_stay_on_load",advGameLoaderButtonAtBottom:"adv_game_loader_button_at_bottom",useLangSelector:"use_lang_selector",waitUserActionForWakeLockScreen:"wait_user_action_for_wakelock_screen",clearIframeQueryParams:"clear_iframe_query_params",clearIframeUtm:"clear_iframe_utm",skipFirstAdvBlock:"skip_first_adv_block",showSimilarOnRedirectFromCatalog:"show_similar_on_redirect_from_catalog",feedLinkEnable:"feed_link_enable",enablePixelCounter:"enable_pixel_counter",pixelCounterReduction:"pixel_counter_reduction",enableBkHitOnRender:"enable_bk_hit_on_render",promoIntersactionObserverThreshold:"promo_intersection_observer_threshold",promoVisibilityLinksInline:"promo_visibility_links_inline",promoVisibilityLinksInlineCheckViewport:"promo_visibility_links_inline_check_viewport",customYaMetrikSDK:"custom_yametrik_sdk",sendAdvLogsAfterGDPR:"send_adv_logs_after_gdpr",promoPagePaginator:"promo_page_paginator",gameLoadingUxfeedback:"game_loading_uxfeedback",isCatalogPreloadLinkEnable:"is_catalog_preload_link_enable",isCategoriesShownLeftPanel:"categories_shown_left_panel",dataFeedRenderTimeout:"data_feed_render_timeout",isCategoriesUnderHeaderLeftPanel:"categories_under_header_left_panel"}},419:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,a,o,n){a=a||"&",o=o||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(a);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var d=0;d<l;++d){var c,u,p,m,h=e[d].replace(i,"%20"),g=h.indexOf(o);g>=0?(c=h.substr(0,g),u=h.substr(g+1)):(c=h,u="");try{p=decodeURIComponent(c),m=decodeURIComponent(u)}catch(e){console.warn(e);continue}t(r,p)?Array.isArray(r[p])?r[p].push(m):r[p]=[r[p],m]:r[p]=m}return r}},509:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,o,n){return a=a||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var r=encodeURIComponent(t(n))+o;return Array.isArray(e[n])?e[n].map((function(e){return r+encodeURIComponent(t(e))})).join(a):r+encodeURIComponent(t(e[n]))})).filter(Boolean).join(a):n?encodeURIComponent(t(n))+o+encodeURIComponent(t(e)):""}},751:(e,t,a)=>{"use strict";t.decode=t.parse=a(419),t.encode=t.stringify=a(509)},562:(e,t,a)=>{var o={"./adv/allwebgames":899,"./adv/allwebgames.ts":899,"./adv/gametok":922,"./adv/gametok.ts":922,"./adv/playhop":227,"./adv/playhop.ts":227,"./adv/types":153,"./adv/types.ts":153,"./adv/yandex":449,"./adv/yandex.ts":449,"./allwebgames":191,"./allwebgames.ts":191,"./gametok":488,"./gametok.ts":488,"./playhop":571,"./playhop.ts":571,"./yandex":797,"./yandex.ts":797};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=562}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{if(void 0!==a){var e=a.u,t=a.e,o={},n={};a.u=function(t){return e(t)+(o.hasOwnProperty(t)?"?"+o[t]:"")},a.e=function(o){return t(o).catch((function(t){var r=n.hasOwnProperty(o)?n[o]:3;if(r<1){var i=e(o);throw t.message="Loading chunk "+o+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(e){setTimeout((function(){n[o]=r-1,e(a.e(o))}),0)}))}))}}})();var o={};(()=>{"use strict";a.d(o,{default:()=>qn});var e=(e=>(e.ABORT_CONTROLLER="abort-controller",e.GLOBAL_THIS="global-this",e.INTERSECTION_OBSERVER="intersection-observer",e.LEGACY="legacy",e.SMOOTH_SCROLL="smooth-scroll",e))(e||{});const t=e=>{const{async:t,content:a,crossorigin:o,id:n,nonce:r,onErrCb:i,onLoadCb:s,src:l}=e,d=document.createElement("script");if(s&&(d.onload=s),i&&(d.onerror=i),d.type="text/javascript",t&&(d.async=t),l&&(d.src=l),r&&d.setAttribute("nonce",r),o&&d.setAttribute("crossorigin",o),n&&(d.setAttribute("id",`${n}-script`),d.dataset.rCid=`load-script-${n}`),a){const e=document.createTextNode(a);d.appendChild(e)}return d};var n=a(531),r=a(377);function i(e,t){return e.endsWith("/")||(e=`${e}/`),`${e}polyfill/${t}`}function s(e,t){return i(e,function(e){var t,a;return(null==(a=null==(t=window.loadPolyfillHash)?void 0:t[e])?void 0:a.contenthash)?`${e}.${window.loadPolyfillHash[e].contenthash}.js`:`${e}.js`}(t))}var l=a(15),d=a(309);const c="document-events",u="-on-body";var p,m=((p=m||{}).Click=`click${u}`,p.Dblclick=`dblclick${u}`,p.Mouseup=`mouseup${u}`,p.Pointerup=`pointerup${u}`,p.Touchend=`touchend${u}`,p);const h={ClickOnBody:()=>({type:c,action:m.Click}),DblclickOnBody:()=>({type:c,action:m.Dblclick}),MouseupOnBody:()=>({type:c,action:m.Mouseup}),PointerupOnBody:()=>({type:c,action:m.Pointerup}),TouchendOnBody:()=>({type:c,action:m.Touchend})};function g(e,t=!0){var a;const o=Object.create(null);return[null==(a=e.hash)?void 0:a.replace(/^#/,""),e.search.replace(/^\?/,"")].join("&").split("&").filter(Boolean).forEach((e=>{const[a,n]=e.split("=");try{o[a]=t?decodeURIComponent(n):n}catch(e){console.warn(e)}})),o}function _(e,t){var a,o;return t?"string"==typeof t.entryQuery[e]?t.entryQuery[e]:void 0:"object"==typeof window?(null==(o=null==(a=window.appData)?void 0:a.location)?void 0:o.entryQuery[e])||g(window.location)[e]:void 0}function f(e=window){var t;return(null==(t=e.YandexGamesSDK)?void 0:t.game)?e.YandexGamesSDK.game.info.isDraft:"true"===_("draft")}var y=a(576);const b="achv-manager",w=e=>({action:"getList",type:b,data:e}),v=e=>({action:"getProgress",type:b,data:e}),k=e=>({action:"setProgress",type:b,data:e}),E=1e3,P=60*E;class x{static SetFlag(e,t){return e|t}static UnsetFlag(e,t){return e&~t}static HasFlag(e,t){return(e&t)===t}static ToggleFlag(e,t){return e^t}}function S(e){const t=this.constructor.prototype[e],a=function(){return t.apply(a,arguments)};return Object.setPrototypeOf(a,this.constructor.prototype),Object.getOwnPropertyNames(t).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))})),a}S.prototype=Object.create(Function.prototype);const I=S;var A=(e=>(e.Adv="Adv",e.Auth="Auth",e.Dev="Dev",e.Popup="Popup",e.Test="Test",e.Unknown="Unknown",e))(A||{});const O=[],T=(Date.now(),(()=>{var e;if("object"!=typeof window)return 0;const t=String(window.location).match("debug-mode(=(\\d+))?");return t?t[1]?parseInt(null!=(e=t[2])?e:"0",10):1:0})()),D=Boolean(T),R=class e extends I{constructor(t,a,o){var n,r;super("log"),this.spoilerData=[],this.spoiler=(...e)=>(this.spoilerData.push(e),this),this.spoilerFunc=e=>(this.spoilerData.push([e()]),this),this.tag=t=>new e(this.prefix,this.initialTag.concat(t),this.color),this.prefix=t,this.color=o,this.initialTag=[].concat(a),this.label=this.initialTag.join("|"),this.prefixStyle=`\n            background: ${null!=(n=null==o?void 0:o.background)?n:"peru"};\n            color: ${null!=(r=null==o?void 0:o.text)?r:"black"};\n            font-size: 8px;\n            font-weight: normal;\n            border-radius: 0 4px 4px 0;\n            padding: 2px;\n        `}static GetLogSize(){return D?1e3:300}static GetLogFunc(){return 0===T?"dummyLog":x.HasFlag(T,2)?"extendedLog":"simpleLog"}dummyLog(...e){}simpleLog(...t){console.log(`%c${this.label}%c${this.prefix}%c`,e.labelStyle,this.prefixStyle,e.dataStyle,...t)}extendedLog(...t){if(console.groupCollapsed(`%c${this.label}%c${this.prefix}%c`,e.labelStyle,this.prefixStyle,e.dataStyle,...t),this.spoilerData.length){for(const e of this.spoilerData)console.log(...e);this.spoilerData=[]}console.trace(),console.groupEnd()}clientLog(...t){const a=Math.max(0,O.length-e.LOG_SIZE+1);a>0&&O.splice(0,Math.max(a,.1*e.LOG_SIZE));let o=N(t);o.reduce(((e,t)=>e+t.length),0)>1e3&&(o=["Error: Stringified data is too big."]);const n={data:o,prefix:this.prefix,tag:this.initialTag,time:Date.now()};this.color&&(n.color=this.color),this.spoilerData.length&&(n.spoilerData=N(this.spoilerData)),O.push(n)}log(...t){"object"==typeof window&&D&&this.clientLog(...t),this[e.LOG_FUNC](...t)}};R.labelStyle="\n        background: dimgrey;\n        color: darkgrey;\n        font-size: 8px;\n        font-weight: normal;\n        border-radius:4px 0 0 4px;\n        padding: 2px\n    ",R.dataStyle="font-weight: normal;",R.LOG_SIZE=R.GetLogSize(),R.LOG_FUNC=R.GetLogFunc();let C=R;const L=(e,t="Unknown",a)=>new C(e,t,a);function N(e){try{return e.map((e=>"object"==typeof e?function(e,t=1){const a=new WeakMap;return JSON.stringify(function e(t,o){if(!t||"object"!=typeof t)return t;let n,r=Array.isArray(t),i=a.has(t);return a.set(t,!0),i?n:(JSON.stringify(t,(function(a,i){if(r||o>0){if(!a)return r=Array.isArray(i),t=i,i;!n&&(n=r?[]:{}),n[a]=e(i,r?o:o-1)}})),void 0===n?r?[]:{}:n)}(e,t))}(e,2):String(e)))}catch(e){return["Error: Can not stringifyArrayObjects"]}}var M,B=(e,t,a)=>{if(!t.has(e))throw TypeError("Cannot "+a)},G=(e,t,a,o)=>(B(e,t,"write to private field"),o?o.call(e,a):t.set(e,a),a);M=new WeakMap;const F=class{constructor(){((e,t,a)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,a)})(this,M,0),this.promise=new Promise(((e,t)=>{this.resolve=t=>{G(this,M,1),e(t)},this.reject=e=>{G(this,M,2),t(e)}}))}get state(){return B(e=this,t=M,"read from private field"),a?a.call(e):t.get(e);var e,t,a}},Y=L("sdkTimeout",[A.Dev]);function j(e,t=function(){var e;switch(null==(e=navigator.connection)?void 0:e.effectiveType){case"slow-2g":return 40*E;case"2g":return 20*E;case"3g":return 10*E;default:return 5*E}}()){const a=new F;Y("init",e),a.promise.catch((()=>{var a;const o=new Error(`[SDK] to long resolve for method '${e}'`);o.additional={speed:(null==(a=navigator.connection)?void 0:a.effectiveType)||"unknown",timeout:t},Y("timeout",e),(0,l.fF)(o)}));const o=setTimeout((()=>{a.reject()}),t);return()=>{Y("resolve",e),a.resolve(),clearTimeout(o)}}class U{constructor(e){this.log=e,this.observers={},this.subscribe=(e,t)=>{var a,o;return(null!=(o=(a=this.observers)[e])?o:a[e]=[]).push(t),this.unsubscribe.bind(this,e,t)},this.unsubscribe=(e,t)=>{if(!t)return void delete this.observers[e];const a=this.observers[e],o=a.indexOf(t);-1!==o&&a.splice(o,1)},this.notifyObservers=(e,t)=>e.forEach((e=>{const a=this.observers[e];a&&a.forEach((a=>{var o;try{a(t)}catch(t){null==(o=this.log)||o.call(this,`${e} event observer error`,t)}}))}))}}var $=(e,t,a)=>new Promise(((o,n)=>{var r=e=>{try{s(a.next(e))}catch(e){n(e)}},i=e=>{try{s(a.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((a=a.apply(e,t)).next())}));const H={background:"#6c5b7b",text:"#ffffff"},W=class{constructor(){this.log=L("Achievements | Child frame",A.Dev,H),this.observable=new U(this.log),this.setProgress=(e,t)=>$(this,null,(function*(){return this.post(k({id:e,progress:t}))})),this.getProgress=e=>$(this,null,(function*(){return this.post(v({id:e}))})),this.getList=(...e)=>$(this,[...e],(function*(e=["allLocal"]){return this.post(w({status:e}))})),this.on=({action:e,id:t=""},a)=>this.observable.subscribe(this.buildId(e,t),a),this.off=({action:e,id:t},a)=>this.observable.unsubscribe(this.buildId(e,t),a),this.post=e=>$(this,null,(function*(){this.log("post to parent",e.action,e.data);const t=j(`AchvManager.${e}`);return d.Z.postToParent(e).then((t=>{var a;this.log("receive from parent",e,t);const{result:o,success:n,error:r}=t.data;return n&&o?(this.notify(e.action,null!=(a=e.data)?a:{},o),o):(this.log("reject",e,"due to error"),Promise.reject(r))})).finally((()=>{t()}))})),this.notify=(e,t,a)=>{const o=[this.buildId(e)];t.id&&o.push(this.buildId(e,t.id)),this.observable.notifyObservers(o,{data:a,payload:t})},this.buildId=(e,t="")=>`${e}${t}`}};W.init=()=>{const{getList:e,getProgress:t,off:a,on:o,setProgress:n}=new W;return{getList:e,getProgress:t,off:a,on:o,setProgress:n}};let K=W;var V=(e=>(e.AudioAPI="AudioAPI",e.LoadingAPI="LoadingAPI",e.PluginEngineDataReporterAPI="PluginEngineDataReporterAPI",e))(V||{}),Z=(e=>(e.GameInit="loading_api_game_init",e.GameReady="loading_api_game_ready",e.GameReadyForce="loading_api_game_ready_force",e.IframeAdded="loading_api_iframe_added",e.IframeError="loading_api_iframe_resources_error",e.IframeLoaded="loading_api_iframe_resources_loaded",e.ScriptInit="loading_api_script_init",e.TTIReady="loading_api_tti_ready",e))(Z||{});const z=["LoadingAPI","PluginEngineDataReporterAPI"];const q=e=>({type:"foolproof-sdk-init",data:e}),J=e=>({type:"error",data:e}),X="adv-manager",Q=()=>({type:X,action:"get-disabled-state"}),ee=()=>({type:X,action:"adv-show-fullscreen",timeout:10*E}),te=()=>({type:X,action:"adv-show-rewarded-video",timeout:10*E}),ae=()=>({type:X,action:"adv-show-sticky-banner",timeout:3*E}),oe=()=>({type:X,action:"adv-hide-sticky-banner",timeout:3*E}),ne=()=>({type:X,action:"adv-status-sticky-banner",timeout:3*E}),re=L("NoAds",[A.Adv]),ie="yandex-games-no-ads-style";function se(){Array.isArray(window.yaContextCb)&&0!==window.yaContextCb.length&&(window.yaContextCb=[]),Array.isArray(window.yandexContextAsyncCallbacks)&&0!==window.yandexContextAsyncCallbacks.length&&(window.yandexContextAsyncCallbacks=[])}let le=!1;function de(){le||(le=!0,re("_disableAds"),function(){var e;if(document.getElementById(ie))return;const t=document.createElement("style");t.id=ie,t.textContent='\nbody div[id*="yandex_rtb"],\nbody div[id*="adfox"],\nbody iframe#bwiframe,\nbody iframe[src*="yabnrwall.html"],\nbody iframe[src*="yartbbnr.html"],\nbody yatag,\nbody yatag[class]\n{ display: none !important; }',null==(e=document.body)||e.appendChild(t)}(),function(){var e,t,a;const o={destroy(){re("Ya.Context.AdvManager.destroy disabled")},render(e,t){"function"==typeof t?t():"function"==typeof e.altCallback?e.altCallback():"function"==typeof e.onError&&e.onError({code:"YA_GAMES_ADS_DISABLED",text:"",type:"error"})}};"function"==typeof(null==(a=null==(t=null==(e=window.Ya)?void 0:e.Context)?void 0:t.AdvManager)?void 0:a.render)&&(window.Ya.Context.AdvManager.render=o.render),se();let n=window.Ya;Object.defineProperty(window,"Ya",{get(){var e;return(null==(e=null==n?void 0:n.Context)?void 0:e.AdvManager)&&n.Context.AdvManager!==o&&(n.Context.AdvManager=o),se(),n},set(e){var t;(null==(t=e.Context)?void 0:t.AdvManager)&&e.Context.AdvManager!==o&&(e.Context.AdvManager=o),n=e},enumerable:!0,configurable:!0}),window.Ya=window.Ya||{},window.Ya.Context=window.Ya.Context||{AdvManager:o},window.Ya.Context.AdvManager=o,re("disable Ya.Context.AdvManager.render")}())}function ce(e){try{return String(e.message||e).substring(0,100)}catch(e){}return""}var ue=a(124);a(194);function pe(e){return function(e,t){if("function"!=typeof t)throw new Error("Argument is not a function");let a;return function(...o){return--e>0&&t&&(a=t.apply(this,o)),e<=1&&(t=void 0),a}}(2,e)}const me="2795",he=(e,t,a)=>{const o=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)?7500:15e3,i=null!=a?a:o,s=window.setTimeout((()=>{(e=>{(0,n.H)({block:r.W.WAIT_TTI,level:"warn",message:`[startWaitingTTI] Time to interactive took more than ${e/1e3}s`})})(i),l()}),i),l=pe((()=>{window.clearTimeout(s),e()}));t(l)},ge=(e,t)=>{he(e,(e=>{var t,a,o,n;(null==(t=window.Ya)?void 0:t.Rum)&&!(null==(a=window.Ya)?void 0:a.Rum.getTimeMarks()[me])?null==(n=null==(o=window.Ya)?void 0:o.Rum)||n.on(me,e):e()}),t)};var _e=a(380);function fe(e,t){return function(e){var t;return(null==(t=e.abt)?void 0:t.flags)||e}(e)[t]}function ye(e,t,a){return fe(e,t)===a}function be(e,t,a){const o=fe(e,t);return"array"===a?Array.isArray(o)?o:void 0:"object"!==a||o?"number"===a?"number"!=typeof o||isNaN(o)?void 0:o:typeof o===a?o:void 0:void 0}function we(e,t){return be(e,t,"number")}const ve=L("PixelManager");const ke=new class{constructor(){this.pixelStorage={}}get pixelsToInit(){var e,t,a;if("undefined"==typeof window)return[];let o=`${window.appData.cdnUrl}/games-static/static-data/pixels/google-tag-manager.html`;return ye(null!=(a=null==(t=null==(e=window.appData)?void 0:e.abt)?void 0:t.flags)?a:{},_e.Z.cfMirrorStatic,!0)&&(o="https://statics.games-storage-aws.yandex.net/statics/pixels/google-tag-manager.html"),this.pixelsOrigin=new URL(o).origin,[{frameURL:o,pixelName:"google_tag_manger",sendPixelEventFunc:this.sendGoogleTagMangerEvent.bind(this)}]}init(){window.appData.isWorldWide&&this.pixelsToInit.forEach((e=>{const{frameURL:t,pixelName:a,sendPixelEventFunc:o}=e;this.createPixelIframe(t,a,o)}))}sendEvent(e,t){"string"==typeof e?Object.entries(this.pixelStorage).forEach((([a,o])=>{o.isError||(o.isLoaded?(o.sendEventFunc(e,t),ve(`Send ${a} goal ${e}`)):o.eventsQueued.push({goal:e,params:t}))})):ve("Wrong goal",e)}sendGoogleTagMangerEvent(e,t){var a;"string"==typeof e&&(null==(a=this.pixelStorage.google_tag_manger.pixelFrame.contentWindow)||a.postMessage({goal:e,params:t},this.pixelsOrigin))}sendAllEventFromQueue(e){const t=this.pixelStorage[e];t&&!t.isError&&t.isLoaded&&(t.eventsQueued.forEach((e=>t.sendEventFunc(e.goal,e.params))),t.eventsQueued=[])}initPixelIframe(e,t,a){e.src=t,e.style.display="none",e.onload=()=>{this.pixelStorage[a].isLoaded=!0,this.pixelStorage[a].isError=!1,this.sendAllEventFromQueue(a)},e.onerror=()=>{this.pixelStorage[a].isError=!0,this.pixelStorage[a].isLoaded=!1,this.pixelStorage[a].eventsQueued=[]},document.body.appendChild(e)}createPixelIframe(e,t,a){var o;const n=document.createElement("iframe"),r=we((null==(o=window.appData.abt)?void 0:o.flags)||{},_e.Z.ttiMetricaWaitingTimeout)||6e4;this.pixelStorage[t]={eventsQueued:[],isError:!1,isLoaded:!1,pixelFrame:n,sendEventFunc:a},ge((()=>{this.initPixelIframe(n,e,t)}),r)}},Ee=ke;var Pe=a(275);const xe="undefined"!=typeof window;function Se(e,t,a){"reachGoal"===e&&function(...e){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(arguments)}("event",t,a)}function Ie(e,t,a={},o){var n;"string"==typeof t&&(Se(e,t,a),Ee.sendEvent(t,a),o&&(null==(n=window.clickdaemonLog)||n.call(window,t,a)))}function Ae(e,t,a,...o){const{withClickDaemon:n}=a;let r={},i={};if(o[0]&&"object"==typeof o[0]?[r]=o:o[1]&&"object"==typeof o[1]&&([,r]=o,[,i]=o),!r.appVersion){const e=`build${window.clientMetadata.appVersion}`;r.appVersion=e,i.appVersion=e}!r.service&&window.clientMetadata.serviceName&&(r.service=window.clientMetadata.serviceName),!r.platform_id&&window.clientMetadata.platform&&(r.platform_id=window.clientMetadata.platform),window.ym?(window.ym(e,t,...o),Ie(t,o[0],i,n)):window[`yaCounter${e}`]?(window[`yaCounter${e}`][t](...o),Ie(t,o[0],i,n)):Oe("Cannot send metrika")}function Oe(e){var t,a;const o=new Error(e);(0,Pe.uh)()?(0,n.H)({block:r.W.METRIKA,level:null==(a=null==(t=window.Ya)?void 0:t.Rum)?void 0:a.ERROR_LEVEL.WARN},o):console.error(o)}function Te(){var e,t;try{const{metrika:t}=(null==(e=function(){throw new Error("Cannot find domain config for null")}().analytics)?void 0:e.counters)||{};return t}catch(e){}return null==(t=window.YandexGamesSDKEnvironment)?void 0:t.metrikaCounter}const De=pe((function(){Oe("Metrika's callbacks array is overflowed")}));function Re(e,t,...a){const{shouldMetrikaWork:o=!0}=t;if(xe&&o){const{metrika:{counterId:o}}=window.appData;if(!o)return Promise.resolve();if(window.ym||window[`yaCounter${o}`])Ae(o,e,t,...a);else{Array.isArray(window.yandex_metrika_callbacks2)||(window.yandex_metrika_callbacks2=[]);const n=window.yandex_metrika_callbacks2;n.length<500?n.push((()=>{Ae(o,e,t,...a)})):De()}}return Promise.resolve()}Re.bind(null,"params"),Re.bind(null,"reachGoal");const Ce=function(e,t,a={}){var o,n;try{const r={borrowParams:{adv:{sdk:{[t]:{[e]:!0,isFirstTryOpen:"tryOpen"===e&&a.isFirstTryOpen,appVersion:window.APP_VERSION}}}}},i=new Image,s=(null==(n=null==(o=window.YandexGamesSDKEnvironment)?void 0:o.i18n)?void 0:n.tld)||"ru",l=Te();i.src=`https://mc.yandex.${s}/watch/${l}?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(r))}`}catch(e){}};Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;L("AdvStickyBanner",A.Adv);var Le=(e=>(e.ADV_IS_NOT_CONNECTED="ADV_IS_NOT_CONNECTED",e.UNKNOWN="UNKNOWN",e))(Le||{});const Ne=L("AdvManager",A.Adv);function Me(e,t){return"function"==typeof e[t]?(a=e[t],o=`Error in callback ${t}`,(...e)=>{try{return a(...e)}catch(e){(0,l.fF)(e,{additional:{origError:ce(e)},message:o})}}):()=>{};var a,o}class Be{constructor(e){var t;this.callbacks={},this.isFirstTryOpenFullscreenAdv=!0,this.isFirstTryOpenRewardedAdv=!0,this.onAdvDebugManagerExternalMessage=e=>{const{action:t}=e.data;switch(t){case"debug-action-showFullscreenAdv":this.showFullscreenAdvDebug(t);break;case"debug-action-showRewardedVideo":this.showRewardedVideoDebug(t);break;case"debug-action-switchStickyBanners":this.switchStickyBannersDebug(t)}},this.onAdvManagerExternalMessage=e=>{var t,a,o,n,r,i,s,d,c,u,p,m,h,g,_;const{action:f,data:y}=e.data;switch(Ne(`onAdvManagerExternalMessage ${f}`),f){case"adv-callback-open":null==(a=(t=this.callbacks).onOpen)||a.call(t);break;case"adv-callback-close":this.callOnAdvClose(y.wasShown);break;case"adv-callback-error":this.callOnAdvClose(!1);try{if("string"!=typeof(null==(o=null==y?void 0:y.error)?void 0:o.message)){const e=new Error("Undefined error message");try{e.additional=JSON.stringify(y)}catch(t){e.additional="undefined"}(0,l.fF)(e)}}catch(e){}null==(r=(n=this.callbacks).onError)||r.call(n,new Error(y.error.message,{cause:y.error}));break;case"adv-callback-offline":this.callOnAdvClose(!1),null==(s=(i=this.callbacks).onOffline)||s.call(i);break;case"rewarded-video-callback-open":null==(c=(d=this.callbacks).onOpen)||c.call(d);break;case"rewarded-video-callback-rewarded":null==(p=(u=this.callbacks).onRewarded)||p.call(u);break;case"rewarded-video-callback-close":null==(h=(m=this.callbacks).onClose)||h.call(m);break;case"rewarded-video-callback-error":null==(_=(g=this.callbacks).onError)||_.call(g,new Error(y.error.message,{cause:y.error}));break;case"set-disabled-state":Ne('On "set-disabled-state" event',e.data,y.value),this.setDisabledState(y.value)}},this.adv=e.adv||{},this.checkDeprecatedOnAdvCloseUsage(),(null==(t=window.YandexGamesSDKEnvironment)?void 0:t.isWorldWide)&&this.setDisabledState(!0),Object.defineProperty(this,"callbacks",{enumerable:!1,writable:!0}),Object.defineProperty(this.adv,"onAdvClose",{enumerable:!1,writable:!0}),d.Z.onExternalMessage("adv-manager",this.onAdvManagerExternalMessage),d.Z.onExternalMessage("adv-debug-manager",this.onAdvDebugManagerExternalMessage),this.updateDisabledState()}checkDeprecatedOnAdvCloseUsage(){"onAdvClose"in this.adv&&(0,l.Ts)(new Error('Deprecated usage "onAdvClose". Please, use `ysdk.adv.method({callbacks})` https://yandex.ru/dev/games/doc/sdk/sdk-adv'))}showFullscreenAdvDebug(e){this.showFullscreenAdv({callbacks:{onClose:t=>Ne(`${e} onClose, wasShown = ${t}`),onError:t=>Ne(`${e} onError, error =`,t),onOffline:()=>Ne(`${e} onOffline`),onOpen:()=>Ne(`${e} onOpen`)}})}showRewardedVideoDebug(e){this.showRewardedVideo({callbacks:{onClose:()=>Ne(`${e} onClose`),onError:t=>Ne(`${e} onError, error =`,t),onOpen:()=>Ne(`${e} onOpen`),onRewarded:()=>Ne(`${e} onRewarded`)}})}switchStickyBannersDebug(e){this.getBannerAdvStatus().then((({stickyAdvIsShowing:t})=>{t?this.hideBannerAdv().then((({stickyAdvIsShowing:t})=>{Ne(`${e} hideBannerAdv, stickyAdvIsShowing = ${t}`)})):this.showBannerAdv().then((({reason:t,stickyAdvIsShowing:a})=>{Ne(`${e} hideBannerAdv, stickyAdvIsShowing = ${a}, reason = ${t}`)}))}))}updateDisabledState(){d.Z.postToParent(Q()).then((({data:e})=>{this.setDisabledState(e.value)})).catch(console.warn)}setDisabledState(e){Ne("setDisabledState",e),e?de():le&&(le=!1)}ensureCallbacksIsValid(e,t){if(!Object.keys(t).length)return;let a=["onClose","onError"];"showRewardedVideo"===e&&a.push("onRewarded");try{a=a.filter((e=>!(e in t&&"function"==typeof t[e])))}catch(e){(0,l.Ts)(new Error('Error in "ensureCallbacksIsValid"'),{additional:{error:String(e).substring(0,100)}})}if(a.length){const t=new Error(`Callbacks for "${e}" has unpresented methods. See https://yandex.ru/dev/games/doc/ru/sdk/sdk-adv`);(0,l.Ts)(t,{additional:{unpresentedMethods:a}})}}showFullscreenAdv({callbacks:e={}}={}){Ce("tryOpen","fullscreen",{isFirstTryOpen:this.isFirstTryOpenFullscreenAdv}),this.ensureCallbacksIsValid("showFullscreenAdv",e),this.isFirstTryOpenFullscreenAdv=!1;const t=j("AdvManager.showFullscreenAdv");d.Z.postToParent(ee()).then((({data:{error:t}})=>{if(t){if(f()&&t.message.includes("often than once per"))throw t;(0,l.fF)(t),Me(e,"onError")(t),Me(e,"onClose")(!1),this.callDeprecatedOnClose(!1)}else this.setCallbacks(e,["onClose","onOpen","onError","onOffline"])})).catch((t=>{(0,l.fF)(t),Me(e,"onError")(t),Me(e,"onClose")(!1),this.callDeprecatedOnClose(!1)})).finally((()=>{t()}))}showRewardedVideo({callbacks:e={}}={}){Ce("tryOpen","rewarded",{isFirstTryOpen:this.isFirstTryOpenRewardedAdv}),this.ensureCallbacksIsValid("showRewardedVideo",e),this.isFirstTryOpenRewardedAdv=!1;const t=j("AdvManager.showRewardedVideo");d.Z.postToParent(te()).then((({data:{error:t}})=>{if(t)throw t;this.setCallbacks(e,["onOpen","onRewarded","onClose","onError"])})).catch((t=>{(0,l.fF)(t),Me(e,"onError")(t),Me(e,"onClose")(!1)})).finally((()=>{t()}))}showBannerAdv(){return new Promise((e=>{const t=j("AdvManager.showBannerAdv");d.Z.postToParent(ae()).then((({data:t})=>{e(t)})).catch((t=>{(0,l.fF)(t),e({reason:Le.UNKNOWN,stickyAdvIsShowing:!1})})).finally((()=>{t()}))}))}hideBannerAdv(){return new Promise((e=>{const t=j("AdvManager.hideBannerAdv");d.Z.postToParent(oe()).then((({data:t})=>{e(t)})).catch((t=>{(0,l.fF)(t),e({stickyAdvIsShowing:!1})})).finally((()=>{t()}))}))}getBannerAdvStatus(){return new Promise((e=>{const t=j("AdvManager.getBannerAdvStatus");d.Z.postToParent(ne()).then((({data:t})=>{e(t)})).catch((t=>{(0,l.fF)(t),e({reason:Le.UNKNOWN,stickyAdvIsShowing:!1})})).finally((()=>{t()}))}))}setCallbacks(e,t){this.callbacks={},t.forEach((t=>{this.callbacks[t]=Me(e,t)}))}callOnAdvClose(e=!1){var t,a;this.callDeprecatedOnClose(e),null==(a=(t=this.callbacks).onClose)||a.call(t,e)}callDeprecatedOnClose(e=!1){if("function"==typeof this.adv.onAdvClose)try{this.adv.onAdvClose(e)}catch(e){(0,l.Ts)(e)}}}const Ge="auth",Fe=()=>({type:Ge,action:"auth-dialog-open",data:{initializer:"auth-manager-public"}}),Ye=()=>({type:Ge,action:"has-auth"});const je=new class{openAuthDialog(){const e=j("AuthManagerPublic.openAuthDialog",2*P),t=d.Z.postToParent(Fe());return t.finally((()=>{e()})),t}};var Ue=a(615);const $e=e=>{const t=new URL(e);class a{constructor(){this.items=[]}contains(e){return this.items.includes(e)}item(e){var t;return null!=(t=this.items[e])?t:null}get length(){return this.items.length}*[Symbol.iterator](){}}return{location:{ancestorOrigins:new a,hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,assign:()=>{},reload:()=>{},replace:()=>{}}}},He="undefined"!=typeof window?window:$e("https://yandex.ru/games/app/1");var We,Ke=a(303);const Ve=L("src/sdk/utils/env",A.Dev),Ze="undefined"!=typeof window&&(null==(We=window.appData)?void 0:We.env)||void 0,ze=Ze?Ze.NODE_ENV:"production",qe=g(He.location).origin||void 0||He.location.origin;function Je(){var e;const t="undefined"!=typeof window?null==(e=window.YandexGamesSDKEnvironment)?void 0:e.serviceName:void 0,a=(qe.match(new RegExp(`[./]${t}\\.([a-z.]+)$`))||["","ru"])[1],o=function(e,t="ru"){return e.replace(Ke.U0,t)}((Ze?Ze.SDK_BACKEND_URL:"https://games-sdk.yandex.%TLD%/games/api/sdk/v1")||"",a);return pe((()=>Ve("BACKEND_SDK_URL",o))),o}const Xe=Je(),Qe=(Ze&&Ze.OAUTH_CLIENT_ID,"production"===ze||"stress"===ze);function et(e){const{url:t,params:a={},hash:o={},removed:n=[],encoded:r=!0}=e;if(!t)throw new Error("addGetParams: function has no url");const i=t.split("#"),s=i[0].split("?");let l=tt(s,a,r,n),d=tt(i,o,r,n);return l&&(l=`?${l}`),d&&(d=`#${d}`),`${s[0]}${l}${d}`}function tt(e,t,a,o){return e.length>1&&e[1].length&&e[1].split("&").forEach((e=>{const[a,o]=e.split("=");if(!t[a])try{t[a]=decodeURIComponent(o)}catch(e){t[a]=o}})),Object.keys(t).filter((e=>!o.includes(e))).filter((e=>void 0!==e)).map((e=>`${e}=${a?encodeURIComponent(t[e]):t[e]}`)).join("&")}function at(e){return"1"===_("revert_unique_id")?et({url:e,params:{revert_unique_id:"1"}}):e}Ve("IS_PROD",Qe),Ve("NODE_ENV",ze);const ot="payments",nt=e=>({type:ot,action:"get-catalog",data:e}),rt=e=>({type:ot,action:"get-purchases",data:e}),it=e=>({type:ot,action:"purchase-start",data:e}),st=e=>({type:ot,action:"purchase-consume",data:e}),lt=()=>({type:ot,action:"get-game-purchase-enabled"});let dt;dt=a(829).Z;const ct=dt;var ut=a(418);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;ut.xY.L,ut.xY.CATEGORIZED_NEW_L,ut.xY.RECOMMENDED_NEW,ut.xY.ADAPTIVE_RECOMMENDED_NEW,ut.xY.PROFILE_RECENT_GAMES,ut.xY.PREMIUM_BIG,ut.xY.TV,ut.xY.PLAY_SIMILAR_GAMES;var pt=(e=>(e.BIG="big",e.ISLANDS_75="islands-75",e.ISLANDS_200="islands-200",e.ISLANDS_MIDDLE="islands-middle",e.ISLANDS_RETINA_MEDIUM="islands-retina-medium",e.ISLANDS_RETINA_SMALL="islands-retina-small",e.NORMAL="normal",e))(pt||{});const mt="0/0-0";var ht=a(751);function gt(e,t,a){var o,n;if(!e)return;let r=function(e,t,a){let o;try{let t=new URL(e);o=ht.parse((a?t.hash:t.search).slice(1))}catch(e){return}if(void 0===o)return;let n=null==o?void 0:o[t];return n?Array.isArray(n)?n[0]:n:void 0}(e,"sdk_url",t);if(void 0===r)return;const i=void 0!==a?a.SDK_CUSTOM_DOMAINS:process.env.SDK_CUSTOM_DOMAINS;if(!i)return;let s;try{s=JSON.parse(i)}catch(e){return}if(void 0===s)return;return null!=(n=null==(o=null==s?void 0:s[r])?void 0:o.apiDomain)?n:void 0}function _t(e){var t;let a=new URL(e);if(null==(t=null==window?void 0:window.appData)?void 0:t.env){let e=gt(window.location.href,!0,window.appData.env);if(e)return a.hostname=e,a.href}return e}const ft={small:pt.ISLANDS_RETINA_SMALL,medium:pt.ISLANDS_RETINA_MEDIUM,large:pt.ISLANDS_200},yt={small:pt.ISLANDS_200,medium:pt.ISLANDS_200,large:pt.BIG};class bt{constructor(e){this._personalInfo=e}getID(){return(0,l.Ts)(new Error("Player.getID() is deprecated. Please, use Player.getUniqueID().\nhttps://yandex.ru/dev/games/doc/dg/sdk/sdk-player.html#sdk-player__profile-data")),ct.sendOnceDeprecatedUsage("Player.getID"),this._personalInfo.id}getUniqueID(){return this._personalInfo.uniqueID}getName(){return this._personalInfo.publicName}getMode(){var e;return null!=(e=this._personalInfo.mode)?e:""}getPayingStatus(){return d.Z.postToParent(lt()).then((({data:{enabled:e}})=>{e||(0,l.Ts)(new Error("We provide data on the player's ability to pay in games that already support purchases"),{level:"warn"})})),this._personalInfo.payingStatus}getPhoto(e="medium"){var t,a,o;const n=ft[e];if(!n)throw new Error(`Unknown size value ('${e}')`);if(this._personalInfo.avatarIdHash){let e=`${Je()}/player`;return"undefined"!=typeof window&&(e=(null!=(o=null==(a=null==(t=window.appData)?void 0:t.env)?void 0:a.SDK_BACKEND_URL)?o:Je())+"/player"),`${_t(e)}/avatar/${this._personalInfo.avatarIdHash}/${n}`}return`https://avatars.mds.yandex.net/get-yapic/${mt}/${n}`}}var wt=Object.defineProperty,vt=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,Pt=(e,t,a)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,xt=(e,t)=>{for(var a in t||(t={}))kt.call(t,a)&&Pt(e,a,t[a]);if(vt)for(var a of vt(t))Et.call(t,a)&&Pt(e,a,t[a]);return e};const St=(e,t)=>{d.Z.postToParent({type:"telegram",data:{playdeck:xt({method:e},t)}})},It="tgData",At=E,Ot=()=>(St("getData",{key:It}),new Promise(((e,t)=>{function a(o){var n;if(!(e=>{var t,a,o;return"getData"===(null==(o=null==(a=null==(t=e.data)?void 0:t.data)?void 0:a.playdeck)?void 0:o.method)})(o))return;d.Z.offExternalMessage("telegram",a);const r=(null==(n=o.data.data.playdeck.value)?void 0:n.data)||"{}";if("string"==typeof r)try{e(JSON.parse(r))}catch(e){const a=new Error("Error parsing game data from telegram");a.additional={originalError:e},(0,l.fF)(a,{prefix:"telegram"}),t({})}else e(r)}d.Z.onExternalMessage("telegram",a),setTimeout((()=>{d.Z.offExternalMessage("telegram",a),t()}),At)})));var Tt=a(762);function Dt(e){const t={};f()&&(t.draft="true");const a=(0,y.r)();return a&&(t["app-id"]=a),et({url:e,params:t})}const Rt=e=>({type:"fetch",data:e}),Ct=L("sdk/v2/fetch");function Lt(e,t="",a={}){Object.keys(a).forEach((e=>{void 0===a[e]&&delete a[e]}));return Dt(et({url:`${e}${t}`,params:a}))}function Nt(e,t="",a={}){Object.keys(a).forEach((e=>{void 0===a[e]&&delete a[e]}));return Dt(et({url:`${e}${t}`,params:a}))}function Mt(e){const{apiPath:t,authRequired:a,path:o,params:n,timeout:r}=e;return new Promise(((e,i)=>{const s=Lt(_t(`${Je()}${t}`),o,n),l=Nt(t,o,n);if(Ct(`commonFetchData, deprecatedUrl: ${s}, requestPath: ${l}`),!l)return void i(new Error("Could not create path"));d.Z.postToParent(Rt({apiPath:l,authRequired:a,options:{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"},timeout:r,url:s})).then((({data:{result:t}})=>{e(t)})).catch(i)}))}function Bt(e){const{apiPath:t,authRequired:a,data:o,params:n,path:r,timeout:i}=e;return new Promise(((e,s)=>{const l=Lt(_t(`${Je()}${t}`),r,n),c=Nt(t,r,n);if(Ct(`commonPostData, deprecatedUrl: ${l}, requestPath: ${c}`),!c)return void s(new Error("Can not create path"));const u={body:JSON.stringify(o),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer-when-downgrade"};d.Z.postToParent(Rt({apiPath:c,authRequired:a,options:u,timeout:i,url:l})).then((({data:{result:t}})=>{e(t)})).catch(s)}))}function Gt(){var e,t;if("object"!=typeof window)return 1;const a=(null==(e=null==window?void 0:window.appData)?void 0:e.networkThrottlingRatio)||1;return(null==(t=null==window?void 0:window.appData)?void 0:t.isWorldWide)?1.5*a:1*a}const Ft="/leaderboard",Yt=10*E,jt=()=>Yt*Gt(),Ut=(e,t={},a)=>Mt({apiPath:Ft,timeout:jt(),path:e,params:t,authRequired:Boolean(null==a?void 0:a.authRequired)});var $t=Object.defineProperty,Ht=Object.defineProperties,Wt=Object.getOwnPropertyDescriptors,Kt=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,zt=(e,t,a)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const qt=E,Jt=(0,Tt.P)(((e,t,a={})=>Bt({apiPath:Ft,timeout:jt(),authRequired:!0,path:e,data:t,params:a})),qt);class Xt{constructor(){this._appId=(0,y.r)()}getLeaderboardDescription(e){const t=j("Leaderboards.getLeaderboardDescription"),a=Ut("/descr",{"app-id":this._appId,name:e});return a.finally((()=>{t()})),a}getLeaderboardStat(e){const t=j("Leaderboards.getLeaderboardStat"),a=Ut("/stat",{"app-id":this._appId,name:e});return a.finally((()=>{t()})),a}transformLeaderboardEntry(e){var t,a,o;const{avatarIdHash:n,lang:r,publicName:i,scopePermissions:s,uniqueID:l}=e.player;let d=`${Xe}/player`;"undefined"!=typeof window&&(d=(null!=(o=null==(a=null==(t=window.appData)?void 0:t.env)?void 0:a.SDK_BACKEND_URL)?o:Xe)+"/player");const c=`${d}/avatar/${n}`;return u=((e,t)=>{for(var a in t||(t={}))Vt.call(t,a)&&zt(e,a,t[a]);if(Kt)for(var a of Kt(t))Zt.call(t,a)&&zt(e,a,t[a]);return e})({},e),Ht(u,Wt({player:{getAvatarSrc:(e="medium")=>(ft[e]||(e="medium"),`${c}/${ft[e]}`),getAvatarSrcSet:(e="medium")=>(ft[e]||(e="medium"),`${c}/${ft[e]} 1x, ${c}/${yt[e]} 2x`),lang:r,publicName:i,scopePermissions:s,uniqueID:l}}));var u}transformLeaderboardEntries(e){return e.map(this.transformLeaderboardEntry)}getLeaderboardEntries(e,t){const{includeUser:a=!1,quantityAround:o=5,quantityTop:n=5}=t||{},r=j("Leaderboards.getLeaderboardEntries"),i=Ut(at("/entries"),{"app-id":this._appId,include_user:a,name:e,quantity_around:o,quantity_top:n},{authRequired:a}).then((e=>{const{entries:t,leaderboard:a,ranges:o,userRank:n}=e;return{entries:this.transformLeaderboardEntries(t),leaderboard:a,ranges:o,userRank:n}}));return i.finally((()=>{r()})),i}getLeaderboardPlayerEntry(e){return Ut(at("/player-entry"),{"app-id":this._appId,name:e},{authRequired:!0}).then((e=>{if(!e)throw new Ue.Z({code:"LEADERBOARD_PLAYER_NOT_PRESENT",httpStatus:204,message:"Player is not present in leaderboard"});return this.transformLeaderboardEntry(e)}))}setLeaderboardScore(e,t,a){St("setScore",{value:t});const o={"app-id":this._appId,name:e,score:t};return"viber"===_("utm_source")&&(o.fromViber=!0),this.lastTimeLeaderboardWasSend&&!this.canSetLeaderboardScoreByTime()?Promise.reject("The request to setLeaderboardScore can be sent no more than once per second"):(a&&(o.extraData=a),this.lastTimeLeaderboardWasSend=Date.now(),Jt("/score",o))}canSetLeaderboardScoreByTime(){return Date.now()-this.lastTimeLeaderboardWasSend>qt}}const Qt=()=>{const e=new Xt;return Promise.resolve(e)};var ea=a(815);const ta=["ru","uk","be","kk","uz"];const aa="companyName",oa="serviceName";ue.wK.Playhop,ue.wK.Yandex;const na="ru";function ra(e,t=na,a=""){if(e){if("string"==typeof e)return e;if(t in e)return e[t]||a;if(!(e=>!e||ta.includes(e))(t)&&"en"in e)return e.en||a;if(na in e)return e[na]||a}return a}const ia="//yastatic.net/s3/games-static/static-data/images/payments/sdk";let sa=function(){sa=()=>{},ct.params({borrowParams:{payments:{appId:(0,y.r)(),productCurrencyCodeGet:!0}}})};class la{constructor(e){this._productData=e}get id(){return this._productData.id}get title(){return ra(this._productData.title)}get description(){return ra(this._productData.description)}get imageURI(){const{image:e}=this._productData;return e&&"object"==typeof e&&"url_prefix"in e?/\.(png|jpg|svg)$/.test(String(e.url_prefix))?e.url_prefix:`${e.url_prefix}/default256x256`:"https://yastatic.net/s3/games-static/static-data/images/payments/default-product-image.png"}get price(){const{price:e}=this._productData;return`${e} ${this.priceCurrencyCode}`}get priceValue(){return String(this._productData.price)}get priceCurrencyCode(){var e;return sa(),null==(e=window.YandexGamesSDKEnvironment)?void 0:e.moneyCodeSymbol}getPriceCurrencyImage(e="small"){if("svg"===e)return`${ia}/currency-icon-m.svg`;let t="s";switch(e){case"medium":case"small":t=e.charAt(0);break;default:console.warn(`Unknown size value ('${e}')`)}const a=window.devicePixelRatio>=2;return`${ia}/currency-icon-${t}${a?"@2x":""}.png`}toJSON(){return{id:this.id,title:this.title,description:this.description,imageURI:this.imageURI,price:this.price,priceValue:this.priceValue,priceCurrencyCode:this.priceCurrencyCode}}}class da{constructor(e){"purchaseTime"in e||(e.purchaseTime=0),this.purchaseData=e}get productID(){return this.purchaseData.productID}get purchaseTime(){return this.purchaseData.purchaseTime}get purchaseToken(){return this.purchaseData.purchaseToken}get developerPayload(){return this.purchaseData.developerPayload}toJSON(){return{productID:this.productID,purchaseTime:this.purchaseTime,purchaseToken:this.purchaseToken,developerPayload:this.developerPayload}}}function ca(e){return function(e){for(var t,a="",o=e.length,n=0;n<o;n++)t=e[n],a+=String.fromCharCode(t>251&&t<254&&n+5<o?1073741824*(t-252)+(e[++n]-128<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>247&&t<252&&n+4<o?(t-248<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>239&&t<248&&n+3<o?(t-240<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>223&&t<240&&n+2<o?(t-224<<12)+(e[++n]-128<<6)+e[++n]-128:t>191&&t<224&&n+1<o?(t-192<<6)+e[++n]-128:t);return a}(function(e,t){for(var a,o,n,r=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=r.length,s=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,l=new Uint8Array(s),d=0,c=0,u=0;u<i;u++)if(o=3&u,d|=((n=r.charCodeAt(u))>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:43===n?62:47===n?63:0)<<18-6*o,3===o||i-u==1){for(a=0;a<3&&c<s;a++,c++)l[c]=d>>>(16>>>a&24)&255;d=0}return l}(e))}function ua(e,t){t&&Object.defineProperty(e,"signature",{enumerable:!1,configurable:!1,get:()=>t})}const pa=L("Payment",A.Dev);class ma{constructor(e={}){this._config=e,this.___test1212()}getCatalog(){return new Promise(((e,t)=>{const a=j("Payments.getCatalog");d.Z.postToParent(nt({lang:this._config.lang})).then((({data:t})=>{pa("get-catalog result",t),e(t.products.map((e=>new la(e))))})).catch((e=>{t(e)})).finally((()=>{a()}))}))}purchase(e){"object"!=typeof e&&(e={id:e,developerPayload:""});const{developerPayload:t}=e;if(t){if("string"!=typeof t)return Promise.reject(new Error("developerPayload must be a string"))}else e.developerPayload="";return new Promise(((t,a)=>{d.Z.postToParent(it({paymentsConfig:this._config,purchaseConfig:e})).then((({data:{data:e,signature:a}})=>{pa("purchase-start then");const o=new da({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload});ua(o,a),t(o)})).catch((e=>{pa("purchase-start catch"),a(e)}))}))}getPurchases(){return new Promise(((e,t)=>{const a=j("Payments.getPurchases");d.Z.postToParent(rt({paymentsConfig:this._config})).then((({data:{data:t,signature:a}})=>{pa("getPurchases callback",t);const o=t.map((e=>new da({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload})));ua(o,a),e(o)})).catch((e=>{t(e)})).finally((()=>{a()}))}))}consumePurchase(e){return new Promise(((t,a)=>{const o=j("Payments.consumePurchase");d.Z.postToParent(st({token:e})).then((({data:e})=>{if(console.info("consumePurchase data"),console.info(e),!e||!e.token)throw new ea.Z({code:"CANNOT_CONSUME_PURCHASE",message:"Can not consume purchase."});t(!0)})).catch((e=>{a(e)})).finally((()=>{o()}))}))}___test1212(){var e,t,a;if("96458"!==(null==(e=window.YandexGamesSDKEnvironment)?void 0:e.app.id))return;if(!0!==(null==(a=null==(t=window.YandexGamesSDKEnvironment)?void 0:t.request.experiments)?void 0:a.test1212Payments))return;const o="position: fixed; left: 15px; padding: 0.3em; background: #fff; border: 1px solid #000; border-radius: 5px;";let n=document.createElement("div");n.setAttribute("id","payElement1212-noads"),n.setAttribute("style",`${o} top: 5px;`),n.textContent='purchase("noads")',n.onclick=()=>this.___test1212Purchase("noads"),document.body.appendChild(n),n=document.createElement("div"),n.setAttribute("id","payElement1212-3x3antiblock"),n.setAttribute("style",`${o} top: 40px;`),n.textContent='purchase("3x3antiblock")',n.onclick=()=>this.___test1212Purchase("3x3antiblock"),document.body.appendChild(n)}___test1212Purchase(e){function t(t){const a=document.getElementById(`payElement1212-${e}`);a&&(a.style.backgroundColor=t?"#0f0":"#f00")}this.purchase({id:e,developerPayload:""}).then((()=>t(!0))).catch((e=>{t(!1),(0,l.fF)(e)}))}}const ha=function(e={}){const t=new ma(e);return new Promise(((e,a)=>{t.getCatalog().then((()=>e(t))).catch(a)}))},ga={APP_VERSION:"",app:{id:""},browser:{lang:"ru"},clid:void 0,i18n:{lang:"ru",tld:"ru"},isStickyBannerEnabled:!1,isWorldWide:!1,isYandexApp:!1,isTelegram:!1,moneyCodeSymbol:Ke.NA.HOP,params:{},request:{},serviceName:ue.cE};let _a=()=>(window.YandexGamesSDKEnvironment||(0,l.fF)(new Error("SDK environment: `window.YandexGamesSDKEnvironment` is undefined")),_a=()=>window.YandexGamesSDKEnvironment||ga,_a());const fa={get app(){return _a().app},get browser(){return{lang:_a().i18n.lang}},get data(){return _a().data||{}},get i18n(){return _a().i18n},get payload(){return _a().params.payload},get isTelegram(){return _a().isTelegram}},ya="/player",ba=5*E,wa=()=>ba*Gt(),va=(e,t,a={})=>Bt({apiPath:ya,timeout:wa(),path:e,data:t,params:a}),ka=204800;function Ea(e){try{return JSON.stringify(e)}catch(e){return(0,l.fF)(e),`${Date.now()}.${Math.random()}`}}class Pa{constructor(e){this._playerId=e,this._dataHash=null,this._timestamp=0}isSamePlayer(e){return e===this._playerId}set dataHash(e){this._dataHash=e?Ea(e):null}validate(e){const t=Ea(e);return function(e){try{return(new TextEncoder).encode(e).length}catch(t){return function(e){let t=e.length;for(let a=e.length-1;a>=0;a--){let o=e.charCodeAt(a);o>127&&o<=2047?t++:o>2047&&o<=65535&&(t+=2),o>=56320&&o<=57343&&a--}return t}(e)}}(t)>ka?{error:new Error("The data is too large (bigger then 204800 bytes)."),reject:!0}:this._dataHash===t?{error:new Error("The data does not differ from the previous ones."),reject:!1}:{}}getWaitTime(){let e=200;const t=Math.abs(Date.now()-this._timestamp);return t<3e3&&(e=Math.max(200,3e3-t)),e}set timestamp(e){this._timestamp=e}}const xa=L("Player",A.Dev);function Sa(e){const{data:t,signature:a}=function(e){if("signature"in e){const{signature:t}=e;if("string"==typeof t){const{data:e}=JSON.parse(ca(t.split(".")[1]));return{data:e,signature:t}}(0,l.fF)(new Error("response.signature is not a string"))}return{data:e}}(e);return ua(t,a),t}function Ia(e,t){if(void 0===t)return e;if(!Array.isArray(t))throw new Error("`keys` must be an Array");if(-1!==t.indexOf("signature"))throw new Error('`keys` must not contains "signature" key');const a={};return t.forEach((t=>{t in e&&(a[t]=e[t])})),a}function Aa(e){return!(!e||"object"!=typeof e)&&Object.values(e).every((e=>"number"==typeof e&&!isNaN(e)))}let Oa,Ta,Da;d.Z.onExternalMessage("auth",(e=>{if("changed"===e.data.action&&Da){xa("Call onLogoutCallback()");try{Da()}catch(e){console.error()}Da=void 0}}));class Ra extends bt{constructor(e,t){super(e),this.dataPromise=null,this.getApiPromise=()=>new Promise(((e,t)=>{this._fetchData("/data").then((t=>{this.data=t,e(t)})).catch((e=>{this.dataPromise=null,t(e)}))})),this.getDataPromise=()=>void 0!==this.data?Promise.resolve(this.data):fa.isTelegram?Ot().catch((()=>this._fetchData("/data"))):this.getApiPromise(),this.config=t,Ta&&Ta.isSamePlayer(this.getUniqueID())||(Ta=new Pa(this.getUniqueID()))}onLogout(e){xa("Set onLogout callback"),Da=e}getIDsPerGame(){return this._fetchData("-ids-per-game")}getData(e){return this.dataPromise=this.getDataPromise(),this.dataPromise.then((t=>Ia(t,e)))}setData(e,t=!1){var a;if(fa.isTelegram&&(a=e,St("setData",{key:It,value:JSON.stringify(a)})),!function(e){return"object"==typeof e&&null!==e}(e))return Promise.reject(new Error("Data is not valid"));this.data=e;const o=function(e,t=!1){const a=Ta.validate(e);return a.error?a.reject?Promise.reject(a.error):((0,l.Ts)(a.error),Promise.resolve(!0)):new Promise(((a,o)=>{Oa&&window.clearTimeout(Oa);let n=t?200:Math.max(200,Ta.getWaitTime());Ta.timestamp=Date.now(),Oa=window.setTimeout((()=>{va("/data",e).then((()=>{Ta.dataHash=e,a(!0)})).catch((e=>{Ta.timestamp=0,Ta.dataHash=null,o(e)}))}),n)}))}(e,t);return t?o:Promise.resolve(!0)}getStats(e){return void 0===this.statsPromise&&(this.statsPromise=new Promise(((e,t)=>{this._fetchData("/stats").then(e).catch(t).finally((()=>this.statsPromise=void 0))}))),this.statsPromise.then((t=>Ia(t,e)))}setStats(e){return Aa(e)?va("/stats",e):Promise.reject(new Error("Stats is not valid"))}incrementStats(e){return Aa(e)?this._postData("/stats/increment",e):Promise.reject(new Error("Increments is not valid"))}_fetchData(e){return((e,t={})=>Mt({apiPath:ya,timeout:wa(),path:e,params:t}))(at(`${e}${this.config.signed?"-signed":""}`)).then(Sa)}_postData(e,t){return va(`${e}${this.config.signed?"-signed":""}`,t).then(Sa)}}const Ca="local-storage",La=()=>({type:Ca,action:"get-all"}),Na=()=>({type:Ca,action:"clear"}),Ma=e=>({type:Ca,action:"del",data:{key:e}}),Ba=(e,t)=>({type:Ca,action:"set",data:{key:e,value:t}}),Ga=e=>({type:Ca,action:"backup",data:e});function Fa(e){return t=this,a=null,o=function*(){return new Promise((t=>setTimeout((()=>t()),e)))},new Promise(((e,n)=>{var r=e=>{try{s(o.next(e))}catch(e){n(e)}},i=e=>{try{s(o.throw(e))}catch(e){n(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,i);s((o=o.apply(t,a)).next())}));var t,a,o}let Ya;try{Ya=window.localStorage}catch(e){}const ja=Ya||function(){let e={};return{clear(){e={}},getItem:t=>e[t],key:t=>Object.keys(e)[t],removeItem(t){delete e[t]},setItem(t,a){e[t]=String(a)},get length(){return Object.keys(e).length}}}(),Ua=/iPad|iPhone|iPod/.test(navigator.platform),$a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Ha=Ua||$a,Wa=/app-[^.]+\.games\.s3\.yandex\.net$/.test(window.location.hostname),Ka=!Wa&&Ha,Va=pe((()=>{(0,l.fF)(new Error("localStorage is broken on iOS/MacOS - https://developer.apple.com/forums/thread/109909\nPlease use YaGames.init().then(ysdk => ysdk.getStorage()).then(storage => storage.setItem('key', 'value'))"))})),Za=class e{static setup(){Ka&&Object.defineProperty(window,"localStorage",{get:function(){return Va(),ja}}),Ha&&Wa&&e.setProxy()&&e.backup()}static load(){if(e.onloadPromise_)return e.onloadPromise_;const t=e.getCustomLocalStorage();return t?(e.onloadPromise_=Promise.race([Fa(5e3).then((()=>{throw new Error("LocalStorage timeout")})),d.Z.postToParent(La()).then((({data:e})=>{for(let[a,o]of Object.entries(e))t.setItem(a,String(o));return t}))]).catch((e=>(console.error(e),ja))),e.onloadPromise_):Promise.resolve(ja)}static getCustomLocalStorage(){if("function"!=typeof Proxy)return null;return new Proxy({clear(){ja.clear.call(ja),d.Z.postToParent(Na())},getItem:e=>ja.getItem.call(ja,e),key:e=>ja.key.call(ja,e),get length(){return ja.length},removeItem(e){ja.removeItem.call(ja,e),d.Z.postToParent(Ma(e))},setItem(e,t){ja.setItem.call(ja,e,String(t)),d.Z.postToParent(Ba(e,t))}},{get:function(e,t){return t in e?e[t]:e.getItem(String(t))},set:function(e,t,a){return e.setItem(String(t),a),!0}})}static setProxy(){const t=e.getCustomLocalStorage();return!!t&&(Object.defineProperty(window,"localStorage",{get:function(){return t}}),!0)}static backup(){const e=Object.create(null);for(let t=0;t<ja.length;t++){const a=ja.key(t);a&&(e[a]=ja.getItem(a))}d.Z.postToParent(Ga(e))}};Za.onloadPromise_=null;let za=Za;function qa(){return!Ha&&Ya?Promise.resolve(Ya):za.load()}function Ja(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}var Xa=Object.defineProperty,Qa=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,ao=(e,t,a)=>t in e?Xa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,oo=(e,t)=>{for(var a in t||(t={}))eo.call(t,a)&&ao(e,a,t[a]);if(Qa)for(var a of Qa(t))to.call(t,a)&&ao(e,a,t[a]);return e};const no="/bonuses/app",ro=2*P,io=()=>ro*Gt(),so=(e,t={},a)=>{const o=a?`${e}-signed`:e;return Mt({apiPath:no,timeout:io(),path:o,params:t})};class lo{constructor(e,t){this._data=e,this._receptionInfo=t}get id(){return this._data.id}get title(){return ra(this._data.title)}get description(){return ra(this._data.description)}get imageURI(){const{image:e}=this._data;return e&&"object"==typeof e&&"url_prefix"in e?/\.(png|jpg|svg)$/.test(String(e.url_prefix))?e.url_prefix:`${e.url_prefix}/default256x256`:"https://yastatic.net/s3/games-static/static-data/images/bonuses/default-bonus-image.png"}get bonusToken(){var e;return null==(e=this._receptionInfo)?void 0:e.token}get receivedAt(){var e;return null==(e=this._receptionInfo)?void 0:e.receivedAt}}var co=(e,t,a)=>new Promise(((o,n)=>{var r=e=>{try{s(a.next(e))}catch(e){n(e)}},i=e=>{try{s(a.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((a=a.apply(e,t)).next())}));const uo=L("Bonus",A.Dev);class po{constructor(e={}){this._config=e,function(e){var t,a,o;return void 0;if("96458"!==(null==(t=window.YandexGamesSDKEnvironment)?void 0:t.app.id))return;if(!0!==(null==(o=null==(a=window.YandexGamesSDKEnvironment)?void 0:a.request.experiments)?void 0:o.test1212Bonuses))return;const n=()=>co(this,null,(function*(){try{const t=yield e.getBonusItems();uo.log(t)}catch(e){uo.log("Error: ",e)}})),r=()=>co(this,null,(function*(){try{const t=yield e.getReceivedBonusItems();uo.log(t)}catch(e){uo.log("Error: ",e)}})),i=t=>co(this,null,(function*(){var a;t.preventDefault();try{const o=null!=(a=new FormData(t.target).get("token"))?a:"",n=yield e.consumeBonusItem(o);uo.log(n)}catch(e){uo.log("Error: ",e)}})),s="position: fixed; left: 15px; padding: 0.3em; background: #fff; border: 1px solid #000; border-radius: 5px;",l=document.createElement("div");l.setAttribute("style",`${s} top: 5px;`),l.textContent="getBonusItems()",l.onclick=()=>n(),document.body.appendChild(l);const d=document.createElement("div");d.setAttribute("style",`${s} top: 40px;`),d.textContent="getReceivedBonusItems()",d.onclick=()=>r(),document.body.appendChild(d);const c=document.createElement("form");c.setAttribute("style","position: fixed; left: 15px; position: fixed; top: 75px"),c.innerHTML+=`\n<input type="text" placeholder="token" name="token" />\n<button style="${s} position: static;">consumeBonus()</button>\n`,c.onsubmit=e=>i(e),document.body.appendChild(c)}(this)}getBonusItems(){return co(this,null,(function*(){var e;const t=yield so("/items",this.getCommonParams(),!1);return(null!=(e=null==t?void 0:t.bonuses)?e:[]).map((e=>new lo(e)))}))}getReceivedBonusItems(){return co(this,null,(function*(){var e;const t=null!=(e=this._config.signed)&&e,a=yield so("/provided",this.getCommonParams(),t);return t?a:a?a.map((e=>new lo(e.item,{receivedAt:e.created,token:e.token}))):[]}))}getCommonParams(){const e={};return this._config.lang&&(e.lang=this._config.lang),e}consumeBonusItem(e){var t;return((e,t,a={},o)=>{const n=o?`${e}-signed`:e;return Bt({apiPath:no,timeout:io(),path:n,data:t,params:a})})("/consume",{token:e},{},null!=(t=this._config.signed)&&t)}}const mo=e=>{const t=new po(e);return Promise.resolve(t)},ho=(e={})=>mo(e),go=e=>({type:"game-call-alert",data:e}),_o=L("captureAlert",A.Dev),fo=250;function yo(e){var t,a;if("DIV"===e.tagName&&e.getAttribute("style")&&!e.querySelector("div")&&!e.classList.length&&!e.id){const e="OK"===(null==(t=document.querySelector("button"))?void 0:t.textContent)&&(null==(a=document.querySelector("span"))?void 0:a.textContent);e&&(_o(`popup message = ${e}`),d.Z.postToParent(go({message:e.substring(0,fo),popup:!0})))}}function bo(){const e="createUnityInstance"in window||"UnityLoader"in window;if(_o("captureUnityAlert isUnity",e),!e)return;if(document.querySelectorAll("div[style]:not([id]):not([class])").forEach(yo),"undefined"!=typeof MutationObserver){const e=new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&setTimeout((()=>{Array.from(e.addedNodes).forEach(yo)}),0)}))}));e.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",(()=>{e.disconnect()}))}}const wo=e=>({type:"clipboard",action:"write-text",data:e});const vo=new class{writeText(e){try{e=String(e)}catch(e){return Promise.reject(new Error("Error while stringified provided value"))}return new Promise(((t,a)=>{const o=j("ClipboardPublic.writeText");d.Z.postToParent(wo({text:e})).then((()=>t(void 0))).catch(a).finally((()=>{o()}))}))}};class ko{constructor(e="desktop"){this._type=e}get type(){return this._type}isMobile(){return"mobile"===this.type}isTablet(){return"tablet"===this.type}isDesktop(){return"desktop"===this.type}isTV(){return"tv"===this.type}}var Eo=Object.defineProperty,Po=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable,Io=(e,t,a)=>t in e?Eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ao=(e,t)=>{for(var a in t||(t={}))xo.call(t,a)&&Io(e,a,t[a]);if(Po)for(var a of Po(t))So.call(t,a)&&Io(e,a,t[a]);return e};const Oo=(()=>{var e;const t=null==(e=window.YandexGamesSDK)?void 0:e.game.info;if(!t)return;const a=parseInt(t.appId,10);return a?{appId:a,developerId:t.publisher.id}:void 0})();var To=a(597);function Do(e,t){t&&(e.type=t),d.Z.postToParent(J(e)).catch((e=>{console.warn(e)}))}function Ro(e){return{data:{additional:{sdkVersion:2}},error:e,source:"game",sourceMethod:(0,l.Zi)(e.stack)}}const Co=new class{constructor(e){this.source=e,window.addEventListener("error",this),"Promise"in window&&window.addEventListener("unhandledrejection",this)}addLogger(e){this.logger=e}handleEvent(e){this._handleEvent(e)}_handleEvent(e,t="error"){try{this._unsafeHandleEvent(e,t)}catch(e){console.warn("Couldn't handle event in ErrorCounter!",e)}}_unsafeHandleEvent(e,t){return"unhandledrejection"===e.type?this._unsafeHandlePromiseRejectionEvent(e):this._unsafeHandleErrorEvent(e,t)}_unsafeHandlePromiseRejectionEvent(e){var t;const{reason:a}=e;if(!a)return;let o;const n={};a.stack&&a.message?o=a.message:(o=String(a),"[object Event]"===o?o="event.type: "+a.type:"[object Object]"===o&&(n.unhandledObject=a)),(null==(t=a.target)?void 0:t.src)&&(n.src=a.target.src);const r={additional:n,message:"Unhandled rejection: "+o,name:"UnhandledPromiseError",stack:a.stack||""};console.error(r.message,l.X4,r),this._postError(r,"unhandled")}_unsafeHandleErrorEvent(e,t){var a,o,n,r,i;const{error:s}=e,d={columnNumber:null!=(o=null!=(a=e.colno)?a:null==s?void 0:s.columnNumber)?o:-1,fileName:e.filename||(null==s?void 0:s.fileName)||"",lineNumber:null!=(r=null!=(n=e.lineno)?n:null==s?void 0:s.lineNumber)?r:-1,message:e.message||(null==s?void 0:s.message)||"",name:(null==s?void 0:s.name)||"Error",stack:null!=(i=null==s?void 0:s.stack)?i:""};(Oo||(null==s?void 0:s.additional))&&(d.additional=Ao(Ao({},null==s?void 0:s.additional),Oo)),console.error(d.message,l.X4,d),this._postError(d,t)}_postError(e,t){var a;let o=(0,l.Zi)(e.stack);"ErrorListener.handleEvent"===o&&(o="unknown"),null==(a=this.logger)||a.call(this,{data:{additional:e.additional||{}},block:`${this.source}-${t}`,error:e,source:this.source,sourceMethod:o},t)}}("game");Co.addLogger(Do),function(){try{const e=console.error;console.error=(...t)=>{let a=t.filter((e=>e instanceof Error))[0];a||(a=(0,To.Z)(t));try{"string"==typeof t[1]&&t[1]===l.X4?t.splice(1,1):Do(Ro(a),"console.error")}catch(e){}e.apply(console,t)}}catch(e){try{Do(Ro(e),"error")}catch(e){}}}();const Lo=(e,t)=>({type:"game-measuring",action:e,data:t}),No=class e{constructor(){this.isReady=!1,this.startTimestamp=Date.now(),this.startReadyFallbackTimeout()}ready(){if(this.isReady)return void console.warn("Don't call %cfeatures.LoadingAPI.ready() %cmore than one time.","color: green","color: unset");this.isReady=!0;const e=Date.now()-this.startTimestamp;this.logGameInitTime(e,Z.GameReady),clearTimeout(this.readyFallbackTimerId)}logGameInitTime(e,t){d.Z.postToParent(Lo(t,{timeFromInit:e}))}startReadyFallbackTimeout(){this.readyFallbackTimerId=window.setTimeout((()=>{this.isReady=!0,this.logGameInitTime(e.MAX_TIMEOUT,Z.GameReadyForce)}),e.MAX_TIMEOUT)}};No.MAX_TIMEOUT=3e4;let Mo=No;const Bo={[V.LoadingAPI]:Mo,[V.PluginEngineDataReporterAPI]:class{constructor(){this.isReported=!1}report(e){this.isReported?console.warn("Don't call %cfeatures.PluginEngineDataReporterAPI.report() %cmore than one time.","color: green","color: unset"):(this.logData(e),this.isReported=!0)}logData(e){d.Z.postToParent({type:"game-reporter",action:"plugin_engine_data",data:e})}}};class Go{constructor(e={}){for(let t in V)V[t]in e&&e[V[t]]&&(this[t]=new Bo[t]);for(let t of z)!this[t]&&(t in e&&e[t]||!(t in e))&&(this[t]=new Bo[t]);d.Z.postToParent(Lo(Z.GameInit))}}V.LoadingAPI,V.PluginEngineDataReporterAPI;const Fo="feedback",Yo=()=>({type:Fo,action:"can-review"}),jo=()=>({type:Fo,action:"request-review"});const Uo=new class{canReview(){return new Promise((e=>{const t=j("Feedback.canReview");d.Z.postToParent(Yo()).then((({data:t})=>{e(t)})).catch((t=>{(0,l.fF)(t),e({reason:"UNKNOWN",value:!1})})).finally((()=>{t()}))}))}requestReview(){return new Promise((e=>{const t=j("Feedback.requestReview",2*P);d.Z.postToParent(jo()).then((({data:t})=>{const{feedbackSent:a,reason:o}=t;o?((0,l.fF)(o),e({feedbackSent:null!=a&&a})):e({feedbackSent:null==a||a})})).catch((t=>{(0,l.fF)(t),e({feedbackSent:!1})})).finally((()=>{t()}))}))}};function $o(){d.Z.postToParent(q({url:location.href,draftDetectedInIframe:f()}))}function Ho(e){try{return"WebGLRenderingContext"in window&&Boolean(e.getContext("webgl")||e.getContext("experimental-webgl")instanceof WebGLRenderingContext)}catch(e){(0,l.fF)(e,{sourceMethod:"isWebGLSupported",level:"warn"})}return!1}function Wo(e){try{return"WebGL2RenderingContext"in window&&Boolean(e.getContext("webgl2")||e.getContext("experimental-webgl2")instanceof WebGL2RenderingContext)}catch(e){(0,l.fF)(e,{sourceMethod:"isWebGL2Supported",level:"warn"})}return!1}function Ko(){const e=[];return"createUnityInstance"in window&&e.push("unity"),e}function Vo(){const e=[],t={webassembly:"WebAssembly"in window,webgl:Ho(document.createElement("canvas")),webgl2:Wo(document.createElement("canvas"))};return Object.keys(t).filter((e=>t[e])).forEach((t=>{e.push(t)})),e}const Zo=()=>{return e=void 0,t=null,a=function*(){return new Promise(((e,t)=>{const a=`${Date.now()}-${Math.random()}`,o=setTimeout((()=>{t(new Error("Get external iframe timeout"))}),500);window.addEventListener("message",(function t(n){const{data:r}=function(e){try{return{data:JSON.parse(e),error:null}}catch(e){return{data:null,error:e}}}(n.data);r&&r.messageId===a&&(window.removeEventListener("message",t),clearTimeout(o),e(r.payload))})),window.parent.postMessage(JSON.stringify({source:"YandexGamesSDK",actionName:"GET_IFRAME_ORIGIN_SRC",channel:"EARLY_SDK_EVENT",messageId:a}),"*")}))},new Promise(((o,n)=>{var r=e=>{try{s(a.next(e))}catch(e){n(e)}},i=e=>{try{s(a.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((a=a.apply(e,t)).next())}));var e,t,a},zo={allow(){d.Z.postToParent({type:"notifications",action:"allow"})}};function qo(...e){const t=e=>e&&"object"==typeof e;return e.reduce(((e,a)=>(Object.keys(a).forEach((o=>{const n=e[o],r=a[o];Array.isArray(n)&&Array.isArray(r)?e[o]=n.concat(...r):t(n)&&t(r)?e[o]=qo(n,r):e[o]=r})),e)),{})}const Jo={FULLSCREEN:"R-I-320442-1",REWARDED_VIDEO:"R-I-328933-4",STICKY_MOBILE_LANDSCAPE_UPPER:"R-I-328933-35",STICKY_MOBILE_UPPER:"R-I-328933-34",STICKY_DESKTOP_RIGHT:"R-I-328933-33"};function Xo(e){if(!e||"object"!=typeof e)return{};!function(e){"partnerId"in e&&(delete e.partnerId,console.warn("`partnerId` is deprecated in the SDKv2"))}(e);return["adv","screen"].reduce(((t,a)=>(a in e&&(t=e[a]),t)),{})}function Qo(e,t={}){return Xo(t),function(e={}){return function(e){Qe||(e.advBlocks.fullscreen=Jo.FULLSCREEN,e.advBlocks.fullscreen_landscape=Jo.FULLSCREEN)}(e),function(e){"adv"in e&&ct.sendOnceDeprecatedUsage("SDK init options with adv");e.adv=e.adv||{},function(e){if("onAdvClose"in e&&"function"!=typeof e.onAdvClose)throw new Error('"onAdvClose" must be a function')}(e.adv)}(e),function(e){if("screen"in e&&"object"!=typeof e.screen)throw new Error("Wrong screen options type");let t=e.screen||{};t=function(e,t){"fullscreen"in e?function(e){if("boolean"!=typeof e)throw new Error("Wrong fullscreen value")}(e.fullscreen):e.fullscreen="desktop"!==t;return e}(t,e.deviceType),t=function(e){if("orientation"in e){const{orientation:t}=e;"string"==typeof t&&(e.orientation={value:t,lock:!0}),function(e){if("object"!=typeof e)throw new Error("Wrong orientation value");if(![null,"portrait","landscape"].includes(e.value))throw new Error(`Wrong orientation value ("${e.value}")`);if("lock"in e){if("boolean"!=typeof e.lock)throw new Error(`Wrong orientation lock value ("${e.lock}")`)}else e.lock=!0}(e.orientation)}else e.orientation={value:null,lock:!0};return e}(t),e.screen=t}(e),e}(qo(e||{},t))}const en=(e={})=>ha(e);const tn=class{constructor(){this.promiseWrappers=Object.create(null)}getKey(e){return JSON.stringify(e)}getFor(e){return this.promiseWrappers[this.getKey(e)]}setFor(e,t){t?this.promiseWrappers[this.getKey(e)]=t:delete this.promiseWrappers[this.getKey(e)]}clear(){this.promiseWrappers=Object.create(null)}},an={AVATAR:"avatar",NAME:"public_name"};Object.keys(an).map((e=>an[e]));var on=(e=>(e.ALLOW="allow",e.FORBID="forbid",e.NOT_SET="not_set",e))(on||{});const nn=L("PlayerProxy",A.Dev),rn=5*P;const sn=new tn,ln=new F;let dn=!1;function cn(){return e=this,t=arguments,a=function*(e={}){var t;const a=null==(t=sn.getFor(e))?void 0:t.promise;if(a)return a;const o=j("getPlayer"),n=new F;if(n.promise.finally((()=>{o()})),sn.setFor(e,n),window.setTimeout((()=>{sn.setFor(e,void 0)}),rn),!dn){dn=!0,o();const e=j("get-permission-promise",2*P);d.Z.postToParent({type:"guard",action:"get-permission-promise"}).then((({data:e})=>{const{result:t}=e;ln.resolve(t)})).catch((()=>{ln.resolve(void 0)})).finally((()=>{e()}))}const r=yield ln.promise,i=j("player/fetch");var s;return d.Z.postToParent((s={config:e},{type:"player",action:"fetch",data:s})).then((({data:t})=>{i();const{data:a,signature:o}=t;r&&[on.ALLOW,on.FORBID].includes(r)&&("avatar"in a.scopePermissions&&(a.scopePermissions.avatar=r),"public_name"in a.scopePermissions&&(a.scopePermissions.public_name=r));const s=function(e,t,a){const o=new Ra(t,e);return ua(o,a),o}(e,a,o);n.resolve(s)})).catch((t=>{i(),n.reject(t),sn.setFor(e,void 0)})),n.promise},new Promise(((o,n)=>{var r=e=>{try{s(a.next(e))}catch(e){n(e)}},i=e=>{try{s(a.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((a=a.apply(e,t)).next())}));var e,t,a}d.Z.onExternalMessage("auth",(e=>{["auth-dialog-cancel","auth-dialog-success","changed"].includes(e.data.action)&&(nn("Clear getPlayer promises."),sn.clear())}));const un="screen-manager",pn=()=>({type:un,action:"exit-fullscreen"}),mn=()=>({type:un,action:"request-fullscreen"}),hn=()=>({type:un,action:"toggle-fullscreen"}),gn=()=>({type:un,action:"get-state"});function _n(e){var t;e&&(e.focus(),null==(t=e.contentWindow)||t.focus(),e.onload=function(){var t;null==(t=e.contentWindow)||t.focus()})}class fn{constructor(){this.onMessage=e=>{const{action:t}=e.data;"fullscreenchange"===t?(document.dispatchEvent(new Event("fullscreenchange")),this._status=e.data.data.isFullscreen?"on":"off"):"iframe-focus"===t&&this.iframeFocus()},this._status="off",this.overrideBrowserFullscreenElement(),this.initMessaging(),this.updateStatus()}get STATUS_ON(){return"on"}get STATUS_OFF(){return"off"}get status(){return this._status}request(){const e=j("FullscreenManager.request"),t=d.Z.postToParent(mn());return t.finally((()=>{e()})),t}exit(){const e=j("FullscreenManager.exit"),t=d.Z.postToParent(pn());return t.finally((()=>{e()})),t}toggle(){const e=j("FullscreenManager.toggle"),t=d.Z.postToParent(hn());return t.finally((()=>{e()})),t}iframeFocus(){_n(document.querySelector("iframe"))}updateStatus(){d.Z.postToParent(gn()).then((e=>{const{isFullscreen:t}=e.data;this._status=t?"on":"off"}))}overrideBrowserFullscreenElement(){try{Object.getOwnPropertyDescriptor(document,"fullscreenElement")||Object.defineProperty(document,"fullscreenElement",{enumerable:!1,configurable:!0,get:()=>this.status===this.STATUS_ON?document.documentElement:null})}catch(e){(0,l.fF)(e)}}initMessaging(){d.Z.onExternalMessage("screen-manager",this.onMessage)}}class yn{constructor(){this.fullscreen=new fn}}var bn=(e=>(e.EXIT="EXIT",e.HISTORY_BACK="HISTORY_BACK",e))(bn||{});const wn={[bn.EXIT]:!0};const vn=e=>({type:"sdk-internal-event",action:"listeners-change",data:e});function kn(){const e={[bn.HISTORY_BACK]:[]};function t(t){const a=e[t];return a||console.warn(`Yandex SDK Event ${t} is not in supported`),a||[]}function a(e){d.Z.postToParent(vn({event:e,count:t(e).length}))}return d.Z.onExternalMessage("sdk-event",(a=>{const o=a.data.action;o in e&&t(o).forEach((e=>{try{e()}catch(e){(0,l.fF)(e)}}))})),function(o,n){return o in e?(function(e,o){t(e).push(o),a(e)}(o,n),()=>{!function(e,o){const n=t(e),r=n.indexOf(o);-1!==r&&(n.splice(r,1),a(e))}(o,n)}):(console.warn("Yandex SDK Event",o,`is not in supported. Available events: ${Object.keys(e).join}`),()=>{})}}const En=["passport.ya","passport.yandex","an.yandex.ru","avatars.mds.yandex.net","/api/"];function Pn(e){const t=Cache.prototype[e];Cache.prototype[e]=function(e,a){return"GET"!==e.method||0!==e.url.indexOf("https://")||(o=e.url,En.some((e=>-1!==o.indexOf(e))))?Promise.resolve():("ignoreSearch"in(a=a||{})||(a.ignoreSearch=!0),t.call(this,e,a));var o}}const xn=class{static overrideCacheSearch(){("function"!=typeof Cache?(console.warn("Can not find `Cache` function"),0):"function"!=typeof Cache.prototype.match?(console.warn("Can not find `Cache.match` function"),0):"function"==typeof Cache.prototype.matchAll||(console.warn("Can not find `Cache.matchAll` function"),0))&&(Pn("match"),Pn("matchAll"))}},Sn="shortcut-manager",In=()=>({type:Sn,action:"show-prompt"}),An=()=>({type:Sn,action:"can-show-prompt"});const On=new class{canShowPrompt(){return new Promise((e=>{const t=j("Shortcut.canShowPrompt");d.Z.postToParent(An()).then((({data:t})=>{e(t)})).catch((e=>{(0,l.fF)(e)})).finally((()=>{t()}))}))}showPrompt(){return new Promise((e=>{const t=j("Shortcut.showPrompt",2*P);d.Z.postToParent(In()).then((({data:t})=>{e(t)})).catch((e=>{(0,l.fF)(e)})).finally((()=>{t()}))}))}};function Tn(e){window.setTimeout((()=>{var t,a;const o={borrowParams:{[`tmpPlayTime${e}`]:{appVersion:window.APP_VERSION}}},n=new Image,r=(null==(a=null==(t=window.YandexGamesSDKEnvironment)?void 0:t.i18n)?void 0:a.tld)||"ru",i=Te();n.src=`https://mc.yandex.${r}/watch/${i}?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(o))}`}),1e3*e)}const Dn=function(){Tn(5),Tn(60),Tn(900)};const Rn=e=>({type:"varioqub",action:"fetch",data:e}),Cn=new tn;function Ln(e={}){const{clientFeatures:t=[],defaultFlags:a={}}=e,o=Cn.getFor(e);if(o)return o.promise;const n=j("get_flags/fetch"),r=new F;return r.promise.finally((()=>{n()})),Cn.setFor(e,r),d.Z.postToParent(Rn({clientFeatures:t})).then((({data:e})=>{const t=Object.assign(a,e);r.resolve(t)})).catch((()=>{r.resolve(a),Cn.setFor(e,void 0)})),r.promise}const Nn="yaMetrikaCounter",Mn=e=>({type:Nn,action:"reachGoal",data:e}),Bn=e=>({type:Nn,action:"hit",data:e});class Gn{reachGoal(e,t,a){d.Z.postToParent(Mn({counterId:e,target:t,goalData:a}))}hit(e,t={}){d.Z.postToParent(Bn({counterId:e,hitData:t}))}}var Fn=a(343);function Yn(){return new Promise((e=>{if("loading"===document.readyState){const t=a=>{const{target:o}=a;o&&"loading"!==o.readyState&&(o.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}else e()}))}var jn=(e,t,a)=>new Promise(((o,n)=>{var r=e=>{try{s(a.next(e))}catch(e){n(e)}},i=e=>{try{s(a.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,i);s((a=a.apply(e,t)).next())}));const Un=L("sdkv2",A.Dev);!function(){var e;if(f())_o("alert hook disabled");else try{"function"==typeof window.alert&&(e=window.alert,window.alert=function(){const t=arguments[0];return _o(`alert message = ${t}`),d.Z.postToParent(go({message:t.substring(0,fo)})),e.apply(this,arguments)}),window.addEventListener("load",bo,{once:!0}),_o("alert hook enabled")}catch(e){(0,l.fF)(e,{prefix:"game_hook_alert exp error: ",level:"warn"})}}();const $n=jn(void 0,null,(function*(){return function(a){if(window.loadPolyfillsPromise)return window.loadPolyfillsPromise;let o=[[e.LEGACY,Boolean(Array.prototype.at)],[e.INTERSECTION_OBSERVER,Boolean("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)],[e.SMOOTH_SCROLL,Boolean("scrollBehavior"in document.documentElement.style)],[e.ABORT_CONTROLLER,"undefined"!=typeof AbortController],[e.GLOBAL_THIS,"object"==typeof globalThis]].filter((([,e])=>!e));return window.loadPolyfillsPromise=new Promise(((e,n)=>{var r,s;o.length?document.head.appendChild(t({id:"loadPolyfillHash",src:i(a,`stats-hash.js?v=${(null==(r=window.appData)?void 0:r.version)||(null==(s=window.YandexGamesSDKEnvironment)?void 0:s.APP_VERSION)||(new Date).setUTCHours(12,0,0,0)}`),onErrCb:n,onLoadCb:e})):e()})).then((()=>Promise.all(o.map((([e])=>new Promise(((o,n)=>{document.head.appendChild(t({id:e,src:s(a,e),onErrCb:n,onLoadCb:o}))}))))))).catch((e=>{(0,n.H)({block:r.W.POLYFILL,message:"Error while loading polyfills",additional:{error:e}})})),window.loadPolyfillsPromise}("//yastatic.net/s3/games-static/_/build")})).then((()=>{(()=>{if(window.top!==window)return;const{hostname:e}=window.location;if(!/(games\.s3\.yandex\.net|games-storage(-awst?)?\.yandex\.net)$/.test(e))return;const t=(0,y.r)();if(!t)return;const{search:a,hash:o}=window.location;let n;n=/games\.s3\.yandex\.net$/.test(e)?`https://yandex.ru/games/app/${t}${a}${o}`:`https://yandex.com/games/app/${t}${a}${o}`,window.top.location.replace(n)})(),$o(),window.loadEnvironmentPromise=window.loadEnvironmentPromise||new Promise(((e,t)=>{const a=j("loadEnvironment");d.Z.postToParent({type:"environment",action:"get",params:{withOptions:!0}}).then((({data:t})=>{e(t)})).catch((e=>{t(e)})).finally((()=>{a()}))})).then((e=>{const t=!("enviroment"in e&&"options"in e),a=t?e:e.enviroment;return window.YandexGamesSDKEnvironment=a,Un("APP_VERSION",a.APP_VERSION),!t&&e.options})),function(e){const t=(0,Tt.P)(e,2e3),a=["click","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","pointerup","touchcancel","touchend","touchmove","touchstart"];a.forEach((e=>document.addEventListener(e,t,{passive:!0,capture:!0})))}((()=>d.Z.postToParent({type:"user-action"})))}));let Hn,Wn;class Kn{constructor(e){var t,a;e=Qo(e),this.EVENTS={EXIT:bn.EXIT,HISTORY_BACK:bn.HISTORY_BACK},this.dispatchEvent=function(e,t){const a=j("getSdkEventsDispatcher");return new Promise(((o,n)=>{if(!(e in wn)){const t=`Yandex SDK Event ${e} is not in supported.`;return console.warn(t),void n(new Error(t))}const r={};if(void 0!==t)try{r.detail=JSON.stringify(t)}catch(e){return console.warn(e),void n(new Error('Wrong "detail" argument'))}d.Z.postToParent(((e,t)=>({type:"sdk-event",action:e,data:t}))(e,r)).then((()=>{o(!0)})).catch((e=>{n(e)})).finally((()=>{a()}))}))},this.onEvent=kn(),this.achievements=K.init(),this.adv=new Be(e),this.auth=je,this.clipboard=vo,this.deviceInfo=new ko(e.deviceType),Zn.deviceInfo=this.deviceInfo,this.environment=fa,this.feedback=Uo,this.isAvailableMethod=(a=this,e=>{const t=j("isAvailableMethod"),o=d.Z.postToParent(Ye()).then((({data:t})=>{const{hasAuth:o}=t;if(!o&&function(e){return["feedback.requestReview","leaderboards.getLeaderboardPlayerEntry","leaderboards.setLeaderboardScore","player.getIDsPerGame"].includes(e)}(e))return!1;const n={leaderboards:Xt,payments:ma,player:Ra,storage:za.getCustomLocalStorage()};if(n[e])return!1;const r=e.split(".");let i=oo(oo({},n),a);for(let e=0;e<r.length;e++){const t=i[r[e]];if(!t)return!1;if(e===r.length-1)return"function"==typeof t;if(!Ja(t))return!1;i=Ja(t.prototype)?t.prototype:t}return!1}));return o.finally((()=>{t()})),o}),this.shortcut=On,this.getLeaderboards=Qt,this.getBonuses=ho,this.getPayments=en,this.getPlayer=cn,this.getStorage=qa,this.notifications=zo,this.analytics={yaMetrikaCounter:new Gn},this.screen=new yn,this.features=new Go(e.features),this.yandexApp={enabled:Boolean(null==(t=window.YandexGamesSDKEnvironment)?void 0:t.isYandexApp)},this.getFlags=Ln}}function Vn(e){if("complete"===document.readyState)e();else{const t=()=>{e(),window.removeEventListener("load",t)};window.addEventListener("load",t)}}try{Wn=new URLSearchParams(window.location.hash.slice(1)).get("device-type")}catch(e){}class Zn{constructor(){throw new Error("Please, use `YaGames.init` instead.")}static longtaskObserver(){var e;const t="longtask";if("undefined"!=typeof PerformanceObserver&&(null==(e=PerformanceObserver.supportedEntryTypes)?void 0:e.includes(t))){let e;const a=()=>{clearTimeout(e),e=setTimeout((()=>{"complete"===document.readyState?o.disconnect():a()}),Fn.Tc)},o=new PerformanceObserver((e=>{e.getEntries().forEach((()=>{d.Z.postToParent({type:"longtask"}),a()}))}));o.observe({entryTypes:[t]})}"complete"===document.readyState?d.Z.postToParent({type:"longtask_frame_ready"}):window.addEventListener("load",(()=>{d.Z.postToParent({type:"longtask_frame_ready"})}))}static init(e){return jn(this,null,(function*(){let t=window.location.hash;try{const e=yield jn(void 0,null,(function*(){let e=window.location.href;try{e=yield Zo()}catch(e){console.warn("Error get IFrameURL",e)}return new URL(e||window.location.href)}));t=new URL(e).hash}catch(e){}return Hn?(console.warn("YaGames was initialized"),Hn):(this.longtaskObserver(),Un("Start initialization"),yield $n,Hn=new Promise(((a,o)=>{!function(){const e=()=>{d.Z.postToParent({type:"sdk_initialization",data:{initialized:!0}}),window.removeEventListener("load",e)};"complete"===document.readyState?e():window.addEventListener("load",e)}();const n=n=>{try{if(!(e=Qo(n,e)).deviceType)try{e.deviceType=new URLSearchParams(t.slice(1)).get("device-type")}catch(e){(0,l.fF)(e,{message:"No deviceType in options"})}Yn().then((()=>{const t=new Kn(e);t.environment.isTelegram&&St("loading",{value:100}),e.hasAuth&&t.getPlayer({scopes:!1}),a(t)}))}catch(e){(0,l.fF)(e),o(e)}};window.loadEnvironmentPromise.then((e=>{e?n(e):new Promise(((e,t)=>{const a=j("loadOptions");d.Z.postToParent({type:"options",action:"get"}).then((({data:t})=>{e(t)})).catch((e=>{t(e)})).finally((()=>{a()}))})).then(n).catch((e=>{console.warn(`Options load failed with error ${e}`),n()}))})).catch((e=>{(0,l.fF)(e),n()})),setTimeout((()=>{const e={clientTech:Vo(),gameTech:Ko()};Un("checkAndSendGameInfo tech data:",e),Vn((()=>{d.Z.postToParent({type:"game-stats",data:e})}))}),10*E)})),Hn.then((()=>Un("Initialized"))),Hn)}))}}if(Zn.deviceInfo=new ko(Wn),window.YaGames&&window.YaGamesAdded){const e='YaGames is already defined. Please, check double <script src="https://yandex.ru/games/sdk/v2"> on the page.';f()&&d.Z.postToParent({type:"alert",error:zn=new Error(e)}),(0,l.Ts)(new Error(e))}else{if(window.parent!==window){const e=(()=>{var e;return{type:"sdk-bundle-start",data:{time:Date.now(),sdkVersion:"v2",sdkBundle:null==(e=window.YandexGamesSDKEnvironment)?void 0:e.APP_VERSION,isSdkLoader:Boolean(window.isSdkLoader)}}})();console.info(`SDK Init. Version: ${e.data.sdkVersion}. Is loader: ${e.data.isSdkLoader}.`),d.Z.postToParent(e)}try{za.setup()}catch(zn){(0,l.fF)(zn)}window.top!==window&&Yn().then((function(){Object.values(h).forEach((e=>{const t=e(),[a]=t.action.split(u);document.addEventListener(a,(()=>d.Z.postToParent(t)),!0)}))})),_n(document.querySelector("iframe")),xn.overrideCacheSearch(),Dn(),"SecurityPolicyViolationEvent"in window?window.addEventListener("securitypolicyviolation",(({blockedURI:e,columnNumber:t,disposition:a,documentURI:o,effectiveDirective:n,lineNumber:r,originalPolicy:i,referrer:s,sample:l,sourceFile:c,statusCode:u,violatedDirective:p})=>{d.Z.postToParent({type:"csp",action:"violation",data:{blockedURI:e,columnNumber:t,disposition:a,documentURI:o,effectiveDirective:n,lineNumber:r,originalPolicy:i,referrer:s,sample:l,sourceFile:c,statusCode:u,violatedDirective:p}})})):console.warn("SecurityPolicyViolationEvent is not available for this browser")}var zn;Vn((()=>{d.Z.postToParent({type:"frame",action:Z.IframeLoaded})})),window.YaGamesAdded=!0,window.YaGames=Zn;const qn=Zn})(),YaGames=o.default})();
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/sdk/client/sdk-v2/production/v2.dc20fac83db8010c942e.js.map